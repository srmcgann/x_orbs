{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?446a","webpack:///./src/App.vue","webpack:///./src/components/Main.vue","webpack:///./src/components/Header.vue","webpack:///./src/components/Header.vue?67ef","webpack:///./src/components/Main.vue?c211","webpack:///./src/App.vue?6697","webpack:///./src/main.js","webpack:///./src/components/Main.vue?c00b","webpack:///./src/components/Header.vue?968a"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_createBlock","_component_Main","state","$data","class","style","_createElementVNode","selected","_hoisted_3","_hoisted_4","ref","tabindex","_createElementBlock","_hoisted_1","$props","stage","_hoisted_2","colorMode","$event","onInput","_cache","focus","author","challengerJoined","_hoisted_6","singlePlayerMode","type","playerName","$options","pollServer","_hoisted_7","innerHTML","processedGameLink","_hoisted_9","onClick","copy","_normalizeClass","linkCopied","_hoisted_10","_hoisted_11","_createVNode","_component_Header","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","maxlength","placeholder","autocomplete","onKeyup","_withKeys","joinGame","createGame","_hoisted_25","disabled","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","launchSinglePlayer","_hoisted_31","gameActuallyPlaying","_hoisted_32","_hoisted_33","countdown","_hoisted_34","_hoisted_35","_hoisted_36","playerJoinedCount","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","Array","fill","join","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_toDisplayString","_hoisted_46","_normalizeStyle","_hoisted_48","_hoisted_49","_hoisted_50","playGame","_hoisted_51","alive","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","reload","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","href","baseURL","_hoisted_5","props","S","Math","sin","C","cos","x","computed","methods","Draw","G","a","B","w","R","Rl","Pt","Yw","oX","oY","oZ","tx","ty","tz","X","Y","Z","M","A","H","this","atan2","hypot","PI","width","clientWidth","fillStyle","clearRect","lineJoin","lineCap","map","v","q","beginPath","lineTo","height","strokeStyle","closePath","lineWidth","stroke","requestAnimationFrame","mounted","$nextTick","$refs","headerCanvas","getContext","clientHeight","__exports__","components","Header","currentPiece","swapped","boardBG","Image","tempBoard","initDropFreq","dropFreq","rowsCompleted","spaceKey","leftKey","upKey","rightKey","downKey","tabKey","pieceMoveTimer","pieceRotateTimer","piceMoveInterval","pieceManualDropTimer","piecManualDropInterval","nextPieceIdx","random","countdownTimer","ret","playerAName","playerBName","playerCName","playerDName","gameLink","startGame","spawnPiece","JSON","parse","stringify","boardData","tempPiece","round","canDo","checkRowCompletion","rowfound","highScore","piece","advancePiece","syncBoard","copyToClipboard","gamelink","playerNumber","drawNextPiece","tx1","ty1","msx","max","drawOpponents","ms","oy","font","fillText","k","active","mx","my","playerAdata","playerBdata","playerCdata","playerDdata","drawImage","msp","px","py","fillRect","strokeRect","highscore","currows","quickPoll","sendData","gameID","gamedata","fetch","method","headers","body","then","res","json","console","log","alert","location","playing","tname","gamedataA","gamedataB","gamedataC","gamedataD","lastNameUpdateTimer","setTimeout","cx","tries","filter","launchGame","history","pushState","decToAlpha","setupListeners","document","getElementsByTagName","addEventListener","e","keyCode","watch","val","mainCanvas","src","userNameField","Main","gameStarted","getGameData","receivedGameData","alphaToDec","actuallyStartGame","setBG","linkeCopied","el","tmp","createElement","position","opacity","setAttribute","appendChild","select","setSelectionRange","execCommand","parentNode","removeChild","cur","mul","pow","substring","charCodeAt","alphabet","getMode","vars","indexOf","split","bgimg","color","backgroundImage","render","createApp","App","mount"],"mappings":"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","file":"js/app.ac716304.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=5344b21c&lang=css\"","<template>\n  <Main :state=\"state\"/>\n</template>\n\n<script>\nimport Main from './components/Main'\n\nexport default {\n  name: 'App',\n  components: {\n    Main\n  },\n  data(){\n    return {\n      state: {\n        gameStarted: false,\n        createGame: null,\n        getGameData: null,\n        baseURL: 'http://efx.cantelope.org/b/games/tetris',\n        gameLink: '',\n        author: false,\n        receivedGameData: {},\n        playerName: '',\n        singlePlayerMode: false,\n        alive: true,\n        highScore: 0,\n        lastNameUpdateTimer: 0,\n        decToAlpha: null,\n        alphaToDec: null,\n        boardData: [],\n        gameActuallyPlaying: true,\n        countdownTimer: null,\n        actuallyStartGame: null,\n        colorMode: Math.random()<.5?'rainbows':'cyberpunk',\n        playerAName: '',\n        playerBName: '',\n        playerCName: '',\n        playerDName: '',\n        playerAdata: {boardData:[]},\n        playerBdata: {boardData:[]},\n        playerCdata: {boardData:[]},\n        playerDdata: {boardData:[]},\n        playerNumber: '',\n        gameID: -1,\n        mode: 0,\n        copyToClipboard: null,\n        setBG: null,\n        linkeCopied: false,\n        challengerJoined: false\n      }\n    }\n  },\n  methods:{\n    copyToClipboard(el){\n      let tmp = document.createElement('input')\n      tmp.style.position = 'absolute'\n      tmp.style.opacity = '0'\n      tmp.setAttribute('type', 'text')\n      tmp.value = this.state.gameLink\n      document.getElementsByTagName('body')[0].appendChild(tmp)\n      tmp.select()\n      tmp.setSelectionRange(0, 99999)\n      document.execCommand(\"copy\")\n      tmp.parentNode.removeChild(tmp)\n      this.state.linkCopied = true\n      setTimeout(()=>{\n        this.state.linkCopied = false\n      },1200)\n    },\n    alphaToDec(val){\n      let pow=0\n      let res=0\n      let cur, mul\n      while(val!=''){\n        cur=val[val.length-1]\n        val=val.substring(0,val.length-1)\n        mul=cur.charCodeAt(0)<58?cur:cur.charCodeAt(0)-(cur.charCodeAt(0)>96?87:29)\n        res+=mul*(62**pow)\n        pow++\n      }\n      return res\n    },\n    decToAlpha(n){\n      let alphabet='0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'\n      let ret='', r\n      while(n){\n        ret = alphabet[Math.round((n/62-(r=n/62|0))*62)|0] + ret\n        n=r\n      }\n      return ret == '' ? '0' : ret\n    },\n    createGame(){\n      let sendData = {gamedata: {\n          playerName: this.state.playerName,\n          playerNumber: 'A'\n        }\n      }\n      fetch(this.state.baseURL + '/createGame.php',{\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(sendData),\n      })\n      .then(res => res.json())\n      .then(data => {\n        if(data){\n          this.state.author = true\n          this.state.playerNumber = 'A'\n          this.state.gameID = data[0]\n          this.state.gameLink = this.state.baseURL + '/?i=/game/' + this.decToAlpha(data[0])\n        }\n      })\n    },\n    getMode(){\n      let vars = []\n      if(window.location.href.indexOf('?i=')!=-1){\n        vars = window.location.href.split('?i=')[1].split('/')\n      }\n      vars = vars.filter(v=>v)\n      if(vars.length>0){\n        switch(vars[0]){\n          case 'game':\n            this.state.gameID = this.alphaToDec(vars[1])\n            if(vars[2]=='a'){\n              this.state.author = true\n              this.state.stage = 1\n              this.state.gameLink = this.state.baseURL + '/?i=/game/' + this.decToAlpha(this.state.gameID )\n              this.state.playerNumber = 'A'\n            } else {\n              if(vars[1]){\n                this.state.stage = 2\n              }\n            }\n          break;\n        }\n      } else {\n        if(vars[0] == 'game') this.state.singlePlayerMode = true \n      }\n    },\n    setBG(val){\n      let bgimg\n      switch(val){\n        case 'cyberpunk':\n          bgimg = 'http://srmcgann.github.io/assets/2clPtA.jpg';\n          document.getElementsByTagName('body')[0].style.color = '#0f8'\n          break\n        case 'rainbows':\n          bgimg = 'http://srmcgann.github.io/assets/1ECv2A.jpg';\n          document.getElementsByTagName('body')[0].style.color = '#ff0'\n          break\n        default:\n          bgimg = 'http://srmcgann.github.io/assets/1ECv2A.jpg';\n          break\n      }\n      document.getElementsByTagName('body')[0].style.backgroundImage = 'url(' + bgimg + ')'\n    }\n  },\n  mounted(){\n    this.getMode()\n    this.state.setBG = this.setBG\n    this.state.createGame = this.createGame\n    this.state.decToAlpha = this.decToAlpha\n    this.state.alphaToDec = this.alphaToDec\n    this.state.getGameData = this.getGameData\n    this.state.copyToClipboard = this.copyToClipboard\n    this.state.actuallyStartGame = this.actuallyStartGame\n    this.setBG(this.state.colorMode)\n  },\n  watch:{\n    'state.colorMode'(val){\n      this.setBG(val)\n    }\n  }\n}\n</script>\n\n<style>\n@import url('http://fonts.googleapis.com/css2?family=Varela+Round&display=swap');\nhtml {\n  margin: 0;\n}\nbody{\n  overflow: hidden;\n  height:100vh;\n  margin: 0;\n  background: #000 url(http://srmcgann.github.io/assets/1ECv2A.jpg) no-repeat;\n  background-position: center;\n  background-size: cover;\n  font-family: 'Varela Round';\n  color: #0f8;\n}\ninput:focus{\n  outline: none;\n}\ninput[type=search]{\n  background: #0000;\n  color: #0f8;\n  border: none;\n  border-bottom: 2px solid #0fc8;\n  font-family: \"Varela Round\";\n  text-align: center;\n  font-size: 24px;\n}\nbutton:focus{\n  outline: none;\n}\nbutton{\n  border: none;\n  background: linear-gradient(135deg, #0118, #068);\n  font-family: \"Varela Round\";\n  color: #0f8;\n  font-size: 24px;\n  padding: 20px;\n  padding-top: 5px;\n  padding-bottom: 8px;\n  border-radius: 10px;\n  cursor: pointer;\n}\nselect{\n  background: #000;\n  color: #0ff;\n  border: 1px solid #0ff8;\n}\n.noyellow{\n  color: #0f8;\n}\ncanvas:focus{\n  outline: none;\n}\n</style>\n","<template>\n  <div class=\"main\">\n    <div v-if=\"state.stage==1\" class=\"controls\" style=\"width: 750px;\">\n      <select v-model=\"state.colorMode\" style=\"margin-right: 10px;\" @input=\"c.focus()\">\n        <option selected value=\"cyberpunk\">cyberpunk</option>\n        <option value=\"rainbows\">rainbows</option>\n      </select>\n      <div v-if=\"!(state.author && state.stage==1 && !state.challengerJoined)\" style=\"display: inline-block;\">\n        <input v-if=\"!state.singlePlayerMode\" type=\"search\" v-model=\"state.playerName\" style=\"width: 150px; font-size: 18px; margin-right: 10px;background: #1236\" @input=\"pollServer(1)\">\n        <div style=\"display: inline-block;\" v-if=\"state.author\">\n          <span ref=\"gamelink\" class= \"gamelink\" v-html=\"processedGameLink\" style=\"font-size: .75em;background: #001; display: inline-block\"></span>\n          <div style=\"display: inline-block;\">\n            <button style=\"font-size: 14px;margin-left: 5px; padding: 5px; padding-left: 30px; padding-right: 1=5px; margin-top: 0px;background-image: url(http://srmcgann.github.io/assets/19npcK.png);background-repeat: no-repeat;background-position: 5px 2px; text-shadow: 1px 1px 2px #000;background-size: 20px 20px; border: 1px solid #8888; background-color: #6fa8;border-radius: 8px;padding-top: 3;\"\n            @click=\"copy()\"\n            :class=\"{'copied':state.linkCopied}\"\n            >copy</button><br>\n            <span v-if=\"state.linkCopied\" style=\"color: #0f8;font-size:12px;position: absolute; maring-top: 45px; width: 120px;margin-left: -58px;\">link copied!</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <Header :state=\"state\"/>\n    <div class=\"actionContainer\">\n      <canvas ref=\"mainCanvas\" tabindex=\"0\"></canvas>\n      <div class=\"inputForm\" :class=\"{'noyellow': state.colorMode=='cyberpunk'}\" v-if=\"!state.stage || state.stage==2\">\n        <div class=\"innerInputForm\" style=\"margin-top: -40px;background: #6488; padding: 20px; border-radius: 50%; box-shadow: 0 0 100px 100px #6488;width:300px;\">\n          <div v-if=\"state.stage\" style=\"color: #8fa;font-size: 1.4em;line-height: 1em;\">\n            You've been<br><span style=\"font-size: .8em;\">challenged to a</span><br>Tetris match!<br>\n          </div>\n          <div v-if=\"!state.stage\" style=\"color: #8fa\">\n            create a multiplayer<br><span style=\"font-size: 1.5em;\">Tetris match!</span><br>\n          </div><br>\n          <input\n            type=\"search\"\n            maxlength=\"16\"\n            placeholder=\"enter your name\"\n            v-model=\"state.playerName\"\n            autocomplete=\"off\"\n            ref=\"userNameField\"\n            v-on:keyup.enter=\"state.stage ? joinGame() : createGame()\"\n          ><br>\n          <button\n            v-if=\"state.playerName\"\n            class=\"createGameButton\"\n            :class=\"{'disabled': !state.playerName.length}\"\n            :disabled=\"!state.playerName.length\"\n            style=\"position: absolute; width: 250px;transform: translatex(-50%);margin-top: 20px;\"\n            @click=\"state.stage ? joinGame() : createGame()\"\n            v-html=\"state.stage ? 'join game' : 'create game'\"\n          ></button><br>\n          <br>or<br><br>\n          <button @click=\"launchSinglePlayer()\">play single<br>player mode</button>\n        </div>\n      </div>\n      <div v-if=\"!state.gameActuallyPlaying\">\n        <div v-if=\"!state.author && state.stage==1\" style=\"position: absolute; z-index: 1000; top:50%; left: 50%; transform: translate(-50%, -50%);background: #28a8; box-shadow: 0 0 100px 100px #28a8; padding: 20px; border-radius: 50%; font-size: 1em; margin-top:0px; width: 350px;\">\n          <div v-if=\"countdown <= 0\" style=\"margin-top: -30px;\">\n            <div style=\"color: #fff; text-shadow: 2px 2px 2px #000;\">\n            <span style=\"font-size: 3em;text-shadow: 0 0 10px #fff;color: #0ff;\">{{playerJoinedCount}}<br></span>players<br>have joined...<br>\n              <span style=\"font-size: .6em;\">\n                {{Array(1+(t*8|0)%8).fill(' <').join('')+Array(1+(t*8|0)%8).fill('> ').join('')}}<br>\n                waiting for the<br>\n                <span style=\"font-size: 2em;\">game master</span><br>to start the game<br>\n                {{Array(1+(t*8|0)%8).fill(' <').join('')+Array(1+(t*8|0)%8).fill('> ').join('')}}\n              </span>\n            </div>\n          </div>\n          <div v-else>\n            <div\n              :class=\"{'noyello': state.colorMode=='cyberpunk'}\"\n              :style=\"'transform: scale('+(.1+(t%1)*20)+'); opacity: '+(1-t%1)\"\n              v-html=\"countdown\"\n            ></div>\n          </div>\n        </div>\n        <div v-if=\"state.author && state.stage==1 && state.challengerJoined\" style=\"position: absolute; z-index: 1000; top:50%; left: 50%; transform: translate(-50%, -50%);background: #28a8; box-shadow: 0 0 100px 100px #28a8; padding: 40px; border-radius: 50%; font-size: .8em; margin-top:-20px;\">\n          <div v-if=\"countdown <= 0\">\n            {{playerJoinedCount}} players have joined...<br>\n            <button\n              style=\"background: linear-gradient(135deg, #0ff, #80f); color: #000; margin-top: 10px;\"\n              @click=\"playGame()\"\n              ref=\"startGameButton\"\n            >start game</button>\n          </div>\n          <div v-else>\n            <div\n              :style=\"'transform: scale('+(.1+(t%1)*20)+'); opacity: '+(1-t%1)\"\n              v-html=\"countdown\"\n            ></div>\n          </div>\n        </div>\n      </div>\n      <div v-if=\"state.stage == 1 && !state.alive\" >\n        <div style=\"position: absolute; z-index: 1000; top:50%; left: 50%; transform: translate(-50%, -50%);background: #f038; box-shadow: 0 0 100px 100px #f038; padding: 40px; border-radius: 50%; font-size: .8em; text-shadow: 2px 2px 2px #000;margin-top: -30px;\">\n          You've been defeated!<br><br>\n          <button\n            @click=\"reload()\"\n          >re-start</button>\n        </div>\n      </div>\n      <div v-if=\"state.author && state.stage==1 && !state.challengerJoined\" style=\"position: absolute; z-index: 1000; top:50%; left: 50%; transform: translate(-50%, -50%);background: #86c8; box-shadow: 0 0 100px 100px #86c8; padding: 40px; border-radius: 50%; font-size: .8em; text-shadow: 2px 2px 2px #000;\">\n        share this link with<br>up to 3 opponents!<br>\n        <span ref=\"gamelink\" class= \"gamelink\" v-html=\"processedGameLink\" style=\"background: #001;\"></span><br>\n        <div class=\"copyButtonDiv\" style=\"display: inline-block\">\n          <button style=\"font-size: 18px;margin-left: 5px; padding: 15px; padding-left: 50px; padding-right: 10px; margin-top: 10px;background-image: url(http://srmcgann.github.io/assets/19npcK.png);background-repeat: no-repeat;background-position: 5px 5px; text-shadow: 1px 1px 2px #000;background-size: 40px 40px; border: 1px solid #8888; background-color: #6fa8;border-radius: 8px;\"\n          @click=\"copy()\"\n          :class=\"{'copied':state.linkCopied}\"\n          >copy</button><br>\n          <span v-if=\"state.linkCopied\" style=\"color: #0f8;font-size:20px;position: absolute; maring-top: 45px; width: 120px;margin-left: -58px;\">link copied!</span>\n        </div><br>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from './Header'\nexport default {\n  name: 'Main',\n  props: [ 'state' ],\n  components: {\n    Header\n  },\n  data(){\n    return {\n      t: 0,\n      S: Math.sin,\n      C: Math.cos,\n      x: null,\n      currentPiece: null,\n      swapped: false,\n      boardBG: new Image(),\n      tempBoard: [],\n      initDropFreq: 40,\n      dropFreq: 40,\n      rowsCompleted: 0,\n      c: null,\n      spaceKey: false,\n      leftKey: false,\n      upKey: false,\n      rightKey: false,\n      downKey: false,\n      tabKey: false,\n      pieceMoveTimer: 0,\n      pieceRotateTimer: 0,\n      piceMoveInterval: .15,\n      pieceManualDropTimer: 0,\n      piecManualDropInterval: .02,\n      B: [],\n      G: [],\n      R: null,\n      nextPieceIdx: Math.random()*7|0,\n      stage: null\n    }\n  },\n  computed:{\n    countdown(){\n      return (this.state.countdownTimer - this.t | 0)\n    },\n    playerJoinedCount(){\n      let ret = 0\n      ret += this.state.playerAName ? 1 : 0\n      ret += this.state.playerBName ? 1 : 0\n      ret += this.state.playerCName ? 1 : 0\n      ret += this.state.playerDName ? 1 : 0\n      if(ret < 2) this.state.challengerJoined = false\n      return ret\n    },\n    processedGameLink(){\n      //return '<a href=\"' + this.state.gameLink + '\" target=\"_blank\">' + this.state.gameLink + '</a>'\n      return this.state.gameLink\n    }\n  },\n  methods:{\n    launchSinglePlayer(){\n      this.state.singlePlayerMode = true\n      this.startGame()\n    },\n    spawnPiece(X, Y){\n      this.tempBoard = JSON.parse(JSON.stringify(this.state.boardData))\n      let n = this.nextPieceIdx\n      this.nextPieceIdx = this.B.length*Math.random()|0\n      let tempPiece = JSON.parse(JSON.stringify(this.B))[n].map(v=>{\n        return [\n          Math.round(X + v[0]),\n          Math.round(Y + v[1]),\n          n\n        ]\n      })\n      if(this.canDo(tempPiece)){\n        this.currentPiece = tempPiece\n        this.state.boardData = this.state.boardData.map((v, i)=>{\n          let tx = i%10\n          let ty = (i/10|0) - 6\n          this.currentPiece.map(q=>{\n            if(q[0] == tx && q[1] == ty){\n              v[0] = q[2]+1\n              v[1] = 0\n            }\n          })\n          return v\n        })\n      } else {\n        this.state.alive = false\n      }\n    },\n    checkRowCompletion(){\n      let rowfound\n      for(let j=26; j--;){\n        rowfound = true\n        for(let i=0; i<10; ++i){\n          if(!this.state.boardData[j*10+i][0]) rowfound = false\n        }\n        if(rowfound){\n          this.rowsCompleted++\n          this.dropFreq = this.initDropFreq / (1+this.rowsCompleted/20)\n          if(this.rowsCompleted > this.state.highScore) this.state.highScore = this.rowsCompleted\n          for(let i=0; i<10; ++i){\n            this.state.boardData[j*10+i][1] = 1\n          }\n        }\n      }\n    },\n    canDo(piece){\n      let ret = true\n      this.tempBoard.map((v, i)=>{\n        let tx = i%10\n        let ty = (i/10|0) - 6\n        piece.map(q=>{\n          if(q[0] == tx && q[1] == ty && v[0] ||\n          q[1] > 19 ||\n          q[0] < 0 ||\n          q[0] > 9\n          ) ret = false\n        })\n      })\n      return ret\n    },\n    advancePiece(){\n      if(!this.currentPiece) return\n      let tempPiece = JSON.parse(JSON.stringify(this.currentPiece)).map(v=>{\n          return [\n            Math.round(v[0]),\n            Math.round(v[1]+1),\n            v[2]\n          ]\n        })\n        \n        \n      if(this.canDo(tempPiece)){\n        this.currentPiece = tempPiece\n        this.state.boardData = JSON.parse(JSON.stringify(this.tempBoard))\n        this.state.boardData = this.state.boardData.map((v, i)=>{\n          let tx = i%10\n          let ty = (i/10|0) - 6\n          this.currentPiece.map(q=>{\n            if(q[0] == tx && q[1] == ty){\n              v[0] = q[2]+1\n              v[1] = 0\n            }\n          })\n          return v\n        })\n      } else {\n        this.swapped = false\n        this.state.boardData = this.state.boardData.map((v, i)=>{\n          let tx = i%10\n          let ty = (i/10|0) - 6\n          this.currentPiece.map(q=>{\n            if(q[0] == tx && q[1] == ty){\n              v[0] = q[2]+1\n              v[1] = 0\n            }\n          })\n          return v\n        })\n        this.currentPiece = null\n        this.tempBoard = JSON.parse(JSON.stringify(this.state.boardData))\n        this.checkRowCompletion()\n      }\n    },\n    syncBoard(){\n      this.state.boardData = Array(260).fill().map(v=>[0,0])\n      this.dropFreq = this.initDropFreq\n      this.rowsCompleted = 0\n      this.tempBoard = Array(260).fill().map(v=>[0,0])\n    },\n    copy(){\n      this.state.copyToClipboard(this.$refs.gamelink)\n    },\n    createGame(){\n      this.state.createGame()\n    },\n    joinGame(){\n      this.state.playerNumber = '';\n      this.state.stage = 1\n      this.state.alive = true\n      this.syncBoard()\n      this.pollServer()\n      this.$nextTick(()=>this.Draw())\n    },\n    drawNextPiece(tx1, ty1, nextPieceIdx, msx){\n      let t = this.t\n      let S = this.S\n      let C = this.C\n      let x = this.x\n      let c = this.c\n            \n      x.lineJoin=x.lineCap = 'round'\n      let X, Y, Z, R\n      ty1 += 70\n      let Rl, Pt, Yw, oX, oY, oZ\n      Rl=t/4, Pt=-t/1.5, Yw=t*2\n      let s = (c.height - c.height/20) * msx\n      oX=0, oY=0, oZ=Math.max(4, 16 - s/60)\n\n      let M, A, p, H, d\n      R = (Rl,Pt,Yw,o)=>{\n        X=S(p=(A=(M=Math).atan2)(X,Y)+Rl)*(d=(H=M.hypot)(X,Y)),Y=C(p)*d,Y=S(p=A(Y,Z)+Pt)*(d=H(Y,Z)),Z=C(p)*d,X=S(p=A(X,Z)+Yw)*(d=H(X,Z)),Z=C(p)*d\n        if(o)X+=oX,Y+=oY,Z+=oZ\n      }\n      this.B.map((v, j)=>{\n        if(j==nextPieceIdx){\n          v.map(v=>{\n            let tx=v[0]\n            let ty=v[1]\n            let tz=v[2]\n            this.G.map((q, i)=>{\n              X = q[0] + tx\n              Y = q[1] + ty\n              Z = q[2] + tz\n              R(Rl*(j%2?1:-1),Pt*(j%2?1:-1.5),Yw,1)\n              if(!(i%4)) x.beginPath()\n              x.lineTo(tx1 + s/4.5 - 100 + X/Z*200,ty1 + s/8 - 70 + Y/Z*200)\n              if(i%4==3){\n                switch(this.state.colorMode){\n                  case 'cyberpunk':\n                    x.strokeStyle=`hsla(${170},75%,${60}%,.8)`\n                    x.fillStyle=`hsla(${170},75%,${60}%,.3)`\n                    break\n                  case 'rainbows':\n                    x.strokeStyle=`hsla(${360/7*j},75%,50%,.8)`\n                    x.fillStyle=`hsla(${360/7*j},75%,50%,.3)`\n                    break\n                }\n                x.closePath()\n                x.lineWidth=5/Z\n                //x.strokeStyle=`hsla(${360/7*j},99%,80%,.8)`\n                x.stroke()\n                //x.fillStyle=`hsla(${360/7*j},99%,50%,.3)`\n                x.fill()\n              }\n            })\n          })\n        }\n      })\n    },\n    drawOpponents(X, Y){\n      let t = this.t\n      let S = this.S\n      let C = this.C\n      let x = this.x\n      let c = this.c\n      let tx, ty, j, tx1, ty1\n      let ms = .4\n      let s = (c.height - c.height/20) * ms\n      let oy = Y + s/4\n\n\n      if(this.state.singlePlayerMode){\n        x.font  = s/10 + 'px \"Varela Round\"'\n        x.fillStyle = '#0f8'\n        x.fillText('high score', X + s/4, Y + s/8*2)\n        x.fillStyle = '#fff'\n        x.fillText(this.state.highScore, X + s/2 - s/32, Y + s/8*3)\n        x.fillStyle = '#0f8'\n        x.fillText('rows completed', X + s/6, Y + s/8*5)\n        x.fillStyle = '#fff'\n        x.fillText(this.rowsCompleted, X + s/2 - s/32, Y + s/8*6)\n        return\n      } else if(this.state.challengerJoined){\n        let ms = .2\n        let s = (c.height - c.height/20) * ms\n        let oy = Y + s/4\n        for(let k=0; k<4; ++k){\n          let active = true\n          switch(k){\n            case 0: if(!this.state.playerAName) active = false; break\n            case 1: if(!this.state.playerBName) active = false; break\n            case 2: if(!this.state.playerCName) active = false; break\n            case 3: if(!this.state.playerDName) active = false; break\n          }\n          let mx = (k%2+.3) * s*1.05\n          let my = ((k/2|0)) * s * 1.22\n          tx = mx + X + s/32 - s/4\n          let name\n          Y=my+oy\n          if(active){\n            let boardData = []\n            switch(k){\n              case 0: boardData = this.state.playerAdata.boardData; break\n              case 1: boardData = this.state.playerBdata.boardData; break\n              case 2: boardData = this.state.playerCdata.boardData; break\n              case 3: boardData = this.state.playerDdata.boardData; break\n            }\n            x.drawImage(this.boardBG, tx, Y, s/2, s)\n            let msp = s/1000\n            boardData.map((v,i)=>{\n              if(v[0]){\n                let px = mx + (i%10) * s / 20 + s / 35- s/4\n                let py = ((i/10|0)-6) * s / 20 - s/35\n                if((i/10|0)-6>=0){\n                  switch(this.state.colorMode){\n                    case 'cyberpunk':\n                      x.fillStyle=`hsla(${170},75%,${(v[1]?v[1]-1:0)*50*S(t*50)+25+70/7*(v[0]-1)}%,.8)`\n                      break\n                    case 'rainbows':\n                      x.fillStyle=`hsla(${360/7*(v[0]-1)},75%,${(v[1]?v[1]-1:0)*50*S(t*50)+50}%,.8)`\n                      break\n                  }\n                  x.fillRect(X + px + msp, Y + py + s/40 + msp, s/20 - msp*2, s/20 - msp*2)\n                }\n              }\n            })\n            x.strokeStyle='#aff6'\n            x.lineWidth = 2\n            x.strokeRect(tx, Y, s/2, s)\n\n            let alive = true\n            switch(k){\n              case 0: alive = this.state.playerAdata.alive; break\n              case 1: alive = this.state.playerBdata.alive; break\n              case 2: alive = this.state.playerCdata.alive; break\n              case 3: alive = this.state.playerDdata.alive; break\n            }\n            if(!alive){\n              x.fillStyle='#f248'\n              x.fillRect(tx, Y, s/2, s)\n            }\n\n            x.font = s/10 + 'px \"Varela Round\"'\n            switch(this.state.colorMode){\n              case 'cyberpunk': x.fillStyle='#0f8'; break\n              case 'rainbows': x.fillStyle='#ff0'; break\n              default: x.fillStyle='#0f8';\n            }\n            switch(k){\n              case 0: name = this.state.playerAName; break\n              case 1: name = this.state.playerBName; break\n              case 2: name = this.state.playerCName; break\n              case 3: name = this.state.playerDName; break\n            }\n            name = '\"' + name + '\"'\n            x.fillStyle='#ff0'\n            x.fillText(name, tx, Y - s/28)\n\n            x.font = s/10 + 'px \"Varela Round\"'\n            let highscore          \n            switch(k){\n              case 0: highscore = this.state.playerAdata.highScore; break\n              case 1: highscore = this.state.playerBdata.highScore; break\n              case 2: highscore = this.state.playerCdata.highScore; break\n              case 3: highscore = this.state.playerDdata.highScore; break\n            }\n            \n            x.fillStyle='#0f8'\n            x.fillText('high', tx + s/1.9, Y + s/10)\n            x.fillText('score', tx + s/1.9, Y + s/10*2)\n            x.fillStyle=\"#fff\"\n            x.fillText(highscore, tx + s/1.75, Y + s/10*3)\n\n            let currows\n            switch(k){\n              case 0: currows = this.state.playerAdata.rowsCompleted; break\n              case 1: currows = this.state.playerBdata.rowsCompleted; break\n              case 2: currows = this.state.playerCdata.rowsCompleted; break\n              case 3: currows = this.state.playerDdata.rowsCompleted; break\n            }\n            x.fillStyle='#0f8'\n            x.fillText('current', tx + s/1.9, Y + s/10 * 6)\n            x.fillText('rows', tx + s/1.9, Y + s/10 * 7)\n            x.fillStyle=\"#fff\"\n            x.fillText(currows, tx + s/1.75, Y + s/10 * 8)\n          } else {\n            x.fillStyle='#2228'\n            x.fillRect(tx, Y, s/2, s)\n            x.strokeStyle='#8886'\n            x.lineWidth = 1\n            x.strokeRect(tx, Y, s/2, s)\n            name = 'not joined'\n            x.font = s/10 + 'px \"Varela Round\"'\n            x.fillStyle='#888'\n            x.fillText(name, tx, Y - s/28)\n          }\n        }\n      } else {\n        Y = oy\n        x.font = s/8 + 'px \"Varela Round\"'\n        x.fillStyle='#fff8'\n        x.fillText('awaiting', X + s/3.25, Y + s/4)\n        x.fillText('challenger(s)', X + s / 5, Y + s/2.5)\n        x.font = s/4 + 'px \"Varela Round\"'\n        x.fillStyle='#4688'\n        x.fillText('['+Array((t*8|0)%8).fill('.').join('')+']', X + s / 2.1 - ((t*8|0)%8)*.035*s, Y + s/1.45)\n      }\n    },\n    async pollServer(quickPoll){\n      \n      let sendData = {\n        playerNumber: this.state.playerNumber,\n        gameID: this.state.gameID,\n        playerName: this.state.playerName,\n        gamedata: {\n          boardData: this.state.boardData,\n          highScore: this.state.highScore,\n          rowsCompleted: this.rowsCompleted,\n          alive: this.state.alive,\n          playerName: this.state.playerName,\n          playerNumber: this.state.playerNumber\n        }\n      }\n      let res = await fetch(this.state.baseURL + '/sync.php',{\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(sendData),\n      })\n      .then(res => res.json())\n      .then(data => {\n        console.log(data)\n        if(data){\n          if(data[0] == 'error - game full'){\n            alert('OOPS! game is full... you can create a new game though!')\n            window.location.href = this.state.baseURL + \"/\"\n          } else {\n            if(data[2]){\n              if(!(+data[2].playing)) this.state.gameActuallyPlaying = false\n              if(!!(+data[2].playing) && !this.state.gameActuallyPlaying && !this.state.countdownTimer){\n                this.t = 1\n                this.state.countdownTimer = this.t + 6\n              }\n            }\n            this.state.playerNumber = data[0]\n            let gamedata = data[2]\n            //let gamedataA = JSON.parse(gamedata.gamedataA)\n            let gamedataA = gamedata.gamedataA == '' ? [] : JSON.parse(gamedata.gamedataA)\n            let gamedataB = gamedata.gamedataB == '' ? [] : JSON.parse(gamedata.gamedataB)\n            let gamedataC = gamedata.gamedataC == '' ? [] : JSON.parse(gamedata.gamedataC)\n            let gamedataD = gamedata.gamedataD == '' ? [] : JSON.parse(gamedata.gamedataD)\n            if(typeof gamedataA.playerNumber == 'undefined'){\n              this.state.playerAName = ''\n              this.state.playerAdata = {boardData:[]}\n            }\n            if(typeof gamedataB.playerNumber == 'undefined'){\n              this.state.playerBName = ''\n              this.state.playerBdata = {boardData:[]}\n            }\n            if(typeof gamedataC.playerNumber == 'undefined'){\n              this.state.playerCName = ''\n              this.state.playerCdata = {boardData:[]}\n            }\n            if(typeof gamedataD.playerNumber == 'undefined'){\n              this.state.playerDName = ''\n              this.state.playerDdata = {boardData:[]}\n            }\n            let tname\n            if(this.state.author){\n              tname = gamedataA.playerName              \n            }\n            switch(this.state.playerNumber){\n              case 'B':\n                tname = gamedataB.playerName; break\n              case 'C':\n                tname = gamedataC.playerName; break\n              case 'D':\n                tname = gamedataD.playerName; break\n              default: if(!this.state.author) tname = ''; break\n            }\n            this.state.playerAdata = gamedataA\n            this.state.playerBdata = gamedataB\n            this.state.playerCdata = gamedataC\n            this.state.playerDdata = gamedataD\n            if(typeof tname != 'undefined' && !quickPoll && tname.length && (this.t - this.state.lastNameUpdateTimer) > 3 || this.t < 3){\n              this.state.playerName = tname\n              this.state.playerAdata = gamedataA\n            }\n            if(typeof gamedataA.playerName != 'undefined') this.state.playerAName = gamedataA.playerName\n            if(typeof gamedataB.playerName != 'undefined') this.state.playerBName = gamedataB.playerName\n            if(typeof gamedataC.playerName != 'undefined') this.state.playerCName = gamedataC.playerName\n            if(typeof gamedataD.playerName != 'undefined') this.state.playerDName = gamedataD.playerName\n            if(gamedataB.playerNumber || gamedataC.playerNumber || gamedataD.playerNumber) this.state.challengerJoined = true\n            if(quickPoll){\n              this.state.lastNameUpdateTimer = this.t\n            } else {\n              setTimeout(()=>{\n                this.pollServer()\n              }, 250)\n            }\n          }\n        }\n      })\n    },\n    Draw(){\n      let t = this.t\n      let S = this.S\n      let C = this.C\n      let x = this.x\n      let c = this.c\n\n      let G, j, i, p, a, l, B, w, Rn, R, Q, Rl, Pt, Yw, oX, oY, oZ, tx, ty, tz, X, Y, Z, M, A, H, d, s\n      \n\n      R = (Rl,Pt,Yw,o)=>{\n        X=S(p=(A=(M=Math).atan2)(X,Y)+Rl)*(d=(H=M.hypot)(X,Y)),Y=C(p)*d,Y=S(p=A(Y,Z)+Pt)*(d=H(Y,Z)),Z=C(p)*d,X=S(p=A(X,Z)+Yw)*(d=H(X,Z)),Z=C(p)*d\n        if(o)X+=oX,Y+=oY,Z+=oZ\n      }\n      if(!this.t){\n        for(j=6;j--;)for(i=4;i--;)this.G=[...this.G,[(a=[S(p=Math.PI*2/4*i+Math.PI/4)*(2**.5)/2,C(p)*(2**.5)/2,.5])[j%3]*(l=j<3?1:-1),a[(j+1)%3]*l,a[(j+2)%3]*l]]\n        this.B = [\n          [[-.5,-1,0],[-.5,0,0],[-.5,1,0],[.5,1,0]],\n          [[.5,-1,0],[.5,0,0],[.5,1,0],[-.5,1,0]],\n          [[-1,0,0],[0,0,0],[1,0,0],[0,1,0]],\n          [[-1.5,0,0],[-.5,0,0],[.5,0,0],[1.5,0,0]],\n          [[-.5,-1,0],[-.5,0,0],[.5,0,0],[.5,1,0]],\n          [[.5,-1,0],[.5,0,0],[-.5,0,0],[-.5,1,0]],\n          [[-.5,-.5,0],[.5,-.5,0],[.5,.5,0],[-.5,.5,0]]\n        ]\n      }\n      x.lineJoin=x.lineCap='round'\n      \n      c.width = c.clientWidth\n      c.height = c.clientHeight\n      x.fillStyle='#000'//, x.fillRect(0,0,w=c.width,w)\n      x.clearRect(0,0,w=c.width,w)\n      \n      Rl=t, Pt=-t/2, Yw=t\n      oX=0, oY=0, oZ=40\n \n      s = c.height - c.height/20\n\n      switch(this.state.stage){\n        \n        case 0:\n        \n        break\n        \n        case 1:\n        \n          tx = c.width/2 - s/2\n          x.fillStyle='#011a'\n          //x.fillRect(tx,  s/40, s/2, s)\n          x.drawImage(this.boardBG, tx,  s/40, s/2, s)\n          x.strokeStyle='#aff6'\n          x.lineWidth = 1\n          x.strokeRect(tx,  s/40, s/2, s)\n          let msp = s/500\n          this.state.boardData = this.state.boardData.map((v,i)=>{\n            if(v[0]){\n              let px = (i%10) * s / 20\n              let py = ((i/10|0)-6) * s / 20\n              if((i/10|0)-6>=0){\n                switch(this.state.colorMode){\n                  case 'cyberpunk':\n                    x.fillStyle=`hsla(${170},75%,${(v[1]?v[1]-1:0)*50*S(t*50)+25+70/7*(v[0]-1)}%,.8)`\n                    break\n                  case 'rainbows':\n                    x.fillStyle=`hsla(${360/7*(v[0]-1)},75%,${(v[1]?v[1]-1:0)*50*S(t*50)+50}%,.8)`\n                    break\n                }\n                x.fillRect(tx + px + msp, py + s/40 + msp, s/20 - msp*2, s/20 - msp*2)\n              }\n            }\n            if(v[1]) v[1]+=.018\n            if(v[1]>=2){\n              for(let m=i+10; (m-=10)>=20;){\n                if(m>=10){\n                  if(1||this.state.boardData[m-10][0]){\n                    this.state.boardData[m][0] = this.state.boardData[m-10][0]\n                    this.state.boardData[m][1] = this.state.boardData[m-10][1]\n                  }\n                }\n              }\n              v[1]=0\n            }\n            return v\n          })\n          \n          \n          x.fillStyle='#102a'\n          x.fillRect(tx + s/2 + s/32,  s/40, s/2 - s/16, s/2 - s/16)\n          x.strokeStyle='#aaf6'\n          x.lineWidth = 1\n          x.strokeRect(tx + s/2 + s/32,  s/40, s/2 - s/16, s/2 - s/16)\n          x.font= s**.9/12 + 'px \"Varela Round\"'\n          x.fillStyle='#86fc'\n          x.fillText('next piece', tx + s/2 + s/12 + (s/2 - s/16)/2.3 - s/9, s/11 - s/20 + s/40)\n          this.drawNextPiece(tx + s/2 + s/32 + 100, s/16 + s/10 - s/20, this.nextPieceIdx, 1)\n\n          /*\n          x.strokeStyle='#aaf6'\n          x.lineWidth = 1\n          x.strokeRect(tx + s/2 + s/32 + s/80,  s/40 + s/64, s/8, s/8)\n          x.font= s**.9/14 + 'px \"Varela Round\"'\n          x.fillStyle='#8fc6'\n          x.fillText('swap', tx + s/2 + s/32 + s/32,  s/40 + s/64 + s/32*1.2, s/8, s/8)          \n          x.fillText('[tab]', tx + s/2 + s/32 + s/28,  s/40 + s/64 + s/32*2.85, s/8, s/8)\n          if(this.swapPieceIdx != null) this.drawNextPiece(tx + s/2 + s/32 + s/80,  s/40 + s/64, s/8, s/8, this.swapPieceIdx, 1)\n          */\n\n          x.fillStyle='#102a'\n          x.fillRect(tx + s/2 + s/32, s/2 - s/16 + s/10 - s/20, s/2 - s/16, s/2 + s/100 + s/40)\n          x.strokeStyle='#aaf6'\n          x.lineWidth = 1\n          x.strokeRect(tx + s/2 + s/32, s/2 - s/16 + s/10 - s/20, s/2 - s/16, s/2 + s/64 + s/40)\n          x.fillStyle='#86fc'\n          if(this.state.challengerJoined){\n            x.font= s**.9/16 + 'px \"Varela Round\"'\n            x.fillText('challengers', tx + s/1.8 + s/32 + s/2 / 2.3 - s/7, s/2 + s/14 - s/20)\n          }\n          this.drawOpponents(tx + s/2 + s/30, s/2 - s/16 + s/10 - s/20 + s/40)\n          \n          if(((this.state.singlePlayerMode && this.state.alive) || (this.state.challengerJoined && this.state.gameActuallyPlaying &&\n             this.state.alive)) && !((t*60|0)%(this.dropFreq|0))){\n            this.advancePiece()\n          }\n\n          x.fillStyle='#2466'\n          if(this.currentPiece != null && ((this.state.singlePlayerMode && this.state.alive) || (this.state.challengerJoined && this.state.gameActuallyPlaying &&\n             this.state.alive))){\n            let tempPiece = JSON.parse(JSON.stringify(this.currentPiece))\n            do{\n              tempPiece = tempPiece.map(v=>{\n                v[1]++\n                return v\n              })\n            }while(this.canDo(tempPiece))\n            Array(260).fill().map((v, i)=>{\n              let px = (i%10) * s / 20\n              let py = ((i/10|0)-6) * s / 20\n              tempPiece.map(q=>{\n                if((i%10) == q[0] && ((i/10|0)-6)==q[1]-1){\n                  x.fillRect(tx + px + msp, py + s/40 + msp, s/20 - msp*2, s/20 - msp*2)\n                }\n              })\n            })\n          }\n          if((this.state.singlePlayerMode && this.state.gameActuallyPlaying && this.state.alive) || this.state.challengerJoined && this.state.gameActuallyPlaying && this.state.alive) {\n            if(this.currentPiece != null){\n              if(0&&this.tabKey){\n                if(!this.swapped){\n                  let tmpIdx = -1\n                  if(this.swapPieceIdx) tmpIdx = this.swapPieceIdx\n                  this.swapPieceIdx = this.currentPiece[0][2]\n                  if(tmpIdx == -1){\n                    this.state.boardData = JSON.parse(JSON.stringify(this.tempBoard))\n                    this.spawnPiece(4, -2)\n                  } else {\n                    this.tempBoard = JSON.parse(JSON.stringify(this.state.boardData))\n                    let n = tmpIdx\n                    let tempPiece = JSON.parse(JSON.stringify(this.B))[n].map(v=>{\n                      return [\n                        Math.round(X + v[0]),\n                        Math.round(Y + v[1]),\n                        n\n                      ]\n                    })\n                    if(this.canDo(tempPiece)){\n                      this.currentPiece = tempPiece\n                      this.state.boardData = this.state.boardData.map((v, i)=>{\n                        let tx = i%10\n                        let ty = (i/10|0) - 6\n                        this.currentPiece.map(q=>{\n                          if(q[0] == tx && q[1] == ty){\n                            v[0] = q[2]+1\n                            v[1] = 0\n                          }\n                        })\n                        return v\n                      })\n                    } else {\n                      this.state.alive = false\n                    }\n                  }\n                  this.swapped = true\n                }\n                this.tabKey = false\n              }\n              if(this.spaceKey && this.currentPiece != null){\n                do{\n                  this.currentPiece = this.currentPiece.map(v=>{\n                    v[1]++\n                    return v\n                  })\n                }while(this.canDo(this.currentPiece))\n                this.state.boardData = JSON.parse(JSON.stringify(this.tempBoard))\n                this.state.boardData = this.state.boardData.map((v, i)=>{\n                  let tx = i%10\n                  let ty = (i/10|0) - 6\n                  this.currentPiece.map(q=>{\n                    if(q[0] == tx && q[1]-1 == ty){\n                      v[0] = q[2]+1\n                      v[1] = 0\n                    }\n                  })\n                  return v\n                })\n                this.currentPiece = null\n                this.spaceKey = false\n                this.tempBoard = JSON.parse(JSON.stringify(this.state.boardData))\n                this.checkRowCompletion()\n              } \n              if(this.leftKey && this.currentPiece != null){\n                if(this.pieceMoveTimer < t){\n                  let tempPiece = JSON.parse(JSON.stringify(this.currentPiece)).map(v=>{\n                    v[0]--\n                    return v\n                  })\n                  if(this.canDo(tempPiece)){\n                    this.currentPiece = tempPiece\n                    this.pieceMoveTimer = this.t + this.piceMoveInterval\n                  }\n                }\n              }\n              if(this.rightKey && this.currentPiece != null){\n                if(this.pieceMoveTimer < t){\n                  let tempPiece = JSON.parse(JSON.stringify(this.currentPiece)).map(v=>{\n                    v[0]++\n                    return v\n                  })\n                  if(this.canDo(tempPiece)){\n                    this.currentPiece = tempPiece\n                    this.pieceMoveTimer = this.t + this.piceMoveInterval\n                  }\n                }\n              }\n              if(this.downKey && this.pieceManualDropTimer < t && this.currentPiece != null){\n                this.advancePiece()\n                this.pieceManualDropTimer = this.t + this.piecManualDropInterval\n              }\n              if(this.upKey && this.currentPiece != null){\n                if(this.currentPiece[0][2]!=6){\n                  if(this.pieceRotateTimer < t){\n                    let tx = this.currentPiece[1][0]\n                    let ty = this.currentPiece[1][1]\n                    let cx\n                    let tempPiece = JSON.parse(JSON.stringify(this.currentPiece)).map(v=>{\n                      cx = v[0]\n                      let X = v[0]\n                      let Y = v[1]\n                      let p = Math.atan2(v[0]-tx, v[1]-ty) + Math.PI / 2\n                      let d = Math.hypot(v[0]-tx, v[1]-ty)\n                      v[0] = Math.round(tx+S(p)*d)\n                      v[1] = Math.round(ty+C(p)*d)\n                      return v\n                    })\n                    if(this.canDo(tempPiece)){\n                      this.currentPiece = tempPiece\n                      this.pieceRotateTimer = this.t + this.piceMoveInterval * 2\n                    } else if(cx >= 5) {\n                      let tries = 0, res = false\n                      do{\n                        tries++\n                        tempPiece = tempPiece.map(v=>{\n                         v[0]--\n                          return v\n                        })\n                      }while(!(res = this.canDo(tempPiece)) && tries < 3);\n                      if(res){\n                        this.currentPiece = tempPiece\n                        this.pieceRotateTimer = this.t + this.piceMoveInterval * 2\n                      }\n                    } else if(cx <= 5) {\n                      let tries = 0, res = false\n                      do{\n                        tries++\n                        tempPiece = tempPiece.map(v=>{\n                         v[0]++\n                          return v\n                        })\n                      }while(!(res = this.canDo(tempPiece)) && tries < 3);\n                      if(res){\n                        this.currentPiece = tempPiece\n                        this.pieceRotateTimer = this.t + this.piceMoveInterval * 2\n                      }\n                    }\n                  }\n                }\n              }\n              if(this.currentPiece != null){\n                this.state.boardData = JSON.parse(JSON.stringify(this.tempBoard))\n                this.state.boardData = this.state.boardData.map((v, i)=>{\n                  let tx = i%10\n                  let ty = (i/10|0) - 6\n                  this.currentPiece.map(q=>{\n                    if(q[0] == tx && q[1] == ty){\n                      v[0] = q[2]+1\n                      v[1] = 0\n                    }\n                  })\n                  return v\n                })\n              }\n            } else {\n              if(!this.state.boardData.filter(v=>v[1]).length) this.spawnPiece(4, -2)\n            }\n          }\n\n          this.t += 1/60\n          requestAnimationFrame(this.Draw)\n        break\n        \n        case 2:\n        break\n      }\n\n    },\n    launchGame(){\n      this.stage = 0\n      this.state.countdownTimer = 0\n      this.t = 0\n      this.pollServer()\n      this.$nextTick(()=>this.Draw())\n    },\n    startGame(){\n      if(this.state.singlePlayerMode) {\n        history.pushState(0, 0 , this.state.baseURL + +\"/?i=\" + '/game')\n      } else {\n        history.pushState(0, 0 , this.state.baseURL + \"/?i=\" + '/game/' + this.state.decToAlpha(this.state.gameID) + '/a')\n      }\n      this.state.stage = 1\n      this.state.countdownTimer = 0\n      this.t = 0\n      if(!this.state.singlePlayerMode) {\n        this.pollServer()\n      } else {\n        this.state.gameActuallyPlaying = false\n        this.state.countdownTimer = this.t + 6\n      }\n      this.$nextTick(()=>this.Draw())\n      this.syncBoard()\n    },\n    playGame(){\n      this.state.gameActuallyPlaying = false\n      let sendData = {\n        gameID: this.state.gameID\n      }\n      fetch(this.state.baseURL + '/startGame.php',{\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(sendData),\n      })\n      .then(res => res.json())\n      .then(data => {\n        console.log(data)\n        if(data[0] !== 'started game# ' + this.state.gameID){\n          console.log('error starting game :(')\n        }\n      })\n    },\n    setupListeners(){\n      document.getElementsByTagName('body')[0].addEventListener('keydown', e=>{\n        switch(e.keyCode){\n          case 9: this.tabKey = true; break\n          case 37: this.leftKey = true; break\n          case 38: this.upKey = true; break\n          case 39: this.rightKey = true; break\n          case 40: this.downKey = true; break\n          case 32: this.spaceKey = true; break\n        }\n      })\n      document.getElementsByTagName('body')[0].addEventListener('keyup', e=>{\n        this.pieceMoveTimer = 0\n        this.pieceRotateTimer = 0\n        switch(e.keyCode){\n          case 9: this.tabKey = false; break\n          case 37: this.leftKey = false; break\n          case 38: this.upKey = false; break\n          case 39: this.rightKey = false; break\n          case 40: this.downKey = false; break\n          case 40: this.spaceKey = false; break\n        }\n      })\n    },\n    reload(){\n      this.syncBoard()\n      this.state.alive = true\n      this.currentPiece = null\n      this.dropFreq = this.initDropFreq\n      this.rowsCompleted = 0\n    }\n  },\n  watch:{\n    'state.gameActuallyPlaying'(val){\n      if(val){\n        this.reload()\n      }\n    },\n    'state.gameLink'(val){\n      if(val.length){\n        this.$nextTick(()=>{this.$nextTick(()=>this.startGame())})\n      }\n    },\n    countdown(val){\n      if(!val && this.playerJoinedCount > 1 &&\n        !(this.state.author && this.state.stage==1 && !this.state.challengerJoined)\n        ) this.state.gameActuallyPlaying = true\n      if(this.state.singlePlayerMode && !val ) this.state.gameActuallyPlaying = true\n    }\n  },\n  mounted(){\n    this.c = this.$refs.mainCanvas\n    this.x = this.c.getContext('2d')\n    this.t = 0\n    this.c.width = this.c.clientWidth\n    this.c.height = this.c.clientHeight\n    this.boardBG.src = 'http://srmcgann.github.io/assets/rjc4W.png'\n    if(this.state.author) this.gameActuallyPlaying = false\n    this.$nextTick(()=>{\n      if(this.state.stage != 1) this.$refs.userNameField.focus()\n      if(this.state.singlePlayerMode) this.launchSinglePlayer()\n    })\n    this.setupListeners()\n  }\n}\n</script>\n\n<style scoped>\ncanvas{\n  width: 100%;\n  height: 100px;\n  vertical-align: top;\n  height: 100%;\n}\n.main{\n  font-size: 32px;\n  text-align: center;\n  height: 100vh;\n}\n.headerText{\n  font-size: 64px;\n  color: #fff8;\n  position: absolute;\n  left: 50%;\n  top: 15px;\n  transform: translatex(-50%) scalex(2.0);\n  font-style: oblique;\n  text-shadow: 0px 0px 10px #0f4;\n}\n.innerInputForm{\n  position: absolute;\n  top: calc(50% - 50px);\n  left: calc(50% - 20px);\n  transform: translate(-50%, -50%);\n}\n.inputForm{\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 50px;\n  height: 100%;\n  width: 100%;\n  color: #ff0;\n}\n.createGameButton{\n  width: 100%;\n  margin-top: 60px;\n}\n.disabled{\n  color: #000;\n  background: linear-gradient(135deg, #3338, #888)!important;\n}\n.linkDiv{\n  position: absolute;\n  top: calc(50% - 50px);\n  left: calc(50% - 20px);\n  transform: translate(-50%, -50%);\n}\n.copied{\n  background-color: #0f88!important;\n}\n.gamelink{\n  color: #8ff;\n  text-shadow: 1px 1px 2px #000;\n  text-decoration: none;\n  font-size: 18px;\n  padding: 5px;\n  display: inline-block;\n  padding-left: 20px;\n  padding-right: 20px;\n  background: #246;\n  border-radius: 10px;\n}\n.controls{\n  font-size: 20px;\n  position: absolute;\n  top: 80px;\n  z-index: 1010;\n  color: #468;\n  left: 50%;\n  width: 100%;\n  transform: translatex(-50%);\n}\n.actionContainer{\n  position: absolute;\n  top: calc(50vh + 50px);\n  height: calc(100vh - 100px);\n  max-height: 800px;\n  width: 100%;\n  transform: translateY(-50%);\n}\n</style>\n","<template>\r\n  <div class=\"header\">\r\n    <a :href=\"state.baseURL\"><div class=\"headerText\">TETRIS<br>THE NEXT GENERATION</div></a>\r\n    <canvas ref=\"headerCanvas\"></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Header',\r\n  props: [ 'state' ],\r\n  data(){\r\n    return {\r\n      t: 0,\r\n      S: Math.sin,\r\n      C: Math.cos,\r\n      x: null,\r\n      c: null\r\n    }\r\n  },\r\n  computed:{\r\n  },\r\n  methods:{\r\n    Draw(){\r\n      let t = this.t\r\n      let S = this.S\r\n      let C = this.C\r\n      let x = this.x\r\n      let c = this.c\r\n      \r\n      let G, j, i, p, a, l, B, w, Rn, R, Q, Rl, Pt, Yw, oX, oY, oZ, tx, ty, tz, X, Y, Z, M, A, H, d\r\n      \r\n      R=(Rl,Pt,Yw,o)=>{\r\n        X=S(p=(A=(M=Math).atan2)(X,Y)+Rl)*(d=(H=M.hypot)(X,Y)),Y=C(p)*d,Y=S(p=A(Y,Z)+Pt)*(d=H(Y,Z)),Z=C(p)*d,X=S(p=A(X,Z)+Yw)*(d=H(X,Z)),Z=C(p)*d\r\n        if(o)X+=oX,Y+=oY,Z+=oZ\r\n      }\r\n\r\n      for(G=[],j=6;j--;)for(i=4;i--;)G=[...G,[(a=[S(p=Math.PI*2/4*i+Math.PI/4)*(2**.5)/2,C(p)*(2**.5)/2,.5])[j%3]*(l=j<3?1:-1),a[(j+1)%3]*l,a[(j+2)%3]*l]]\r\n      B = [\r\n        [[-.5,-1,0],[-.5,0,0],[-.5,1,0],[.5,1,0]],\r\n        [[.5,-1,0],[.5,0,0],[.5,1,0],[-.5,1,0]],\r\n        [[-1,0,0],[0,0,0],[1,0,0],[0,1,0]],\r\n        [[-1.5,0,0],[-.5,0,0],[.5,0,0],[1.5,0,0]],\r\n        [[-.5,-1,0],[-.5,0,0],[.5,0,0],[.5,1,0]],\r\n        [[.5,-1,0],[.5,0,0],[-.5,0,0],[-.5,1,0]],\r\n        [[-.5,-.5,0],[.5,-.5,0],[.5,.5,0],[-.5,.5,0]]\r\n      ]\r\n      \r\n      c.width = c.clientWidth\r\n      x.fillStyle='#000', x.clearRect(0,0,w=c.width,w)\r\n      x.lineJoin=x.lineCap='round'\r\n      \r\n      Rl=t, Pt=-t/2, Yw=t\r\n      oX=0, oY=0, oZ=5\r\n      \r\n      B.map((v, j)=>{\r\n        v.map(v=>{\r\n          tx=v[0]\r\n          ty=v[1]\r\n          tz=v[2]\r\n          G.map((q, i)=>{\r\n            X = q[0] + tx\r\n            Y = q[1] + ty\r\n            Z = q[2] + tz\r\n            R(Rl*(j%2?1:-1),Pt*(j%2?1:-1.5),Yw,1)\r\n            if(!(i%4)) x.beginPath()\r\n            x.lineTo(X/Z*100 + ((-3+j)*c.width/7 - C(t/3) * 1000 + c.width/2*99)%c.width, c.height/2+Y/Z*100)\r\n            if(i%4==3){\r\n              switch(this.state.colorMode){\r\n                case 'cyberpunk':\r\n                  x.strokeStyle=`hsla(${170},75%,${50}%,.8)`\r\n                  x.fillStyle=`hsla(${170},75%,${50}%,.3)`\r\n                  break\r\n                case 'rainbows':\r\n                  x.strokeStyle=`hsla(${360/7*(j-1)},75%,50%,.8)`\r\n                  x.fillStyle=`hsla(${360/7*(j-1)},75%,50%,.3)`\r\n                  break\r\n              }\r\n              x.closePath()\r\n              x.lineWidth=4/Z\r\n              //x.strokeStyle=`hsla(${360/7*j},99%,80%,.8)`\r\n              x.stroke()\r\n              //x.fillStyle=`hsla(${360/7*j},99%,50%,.3)`\r\n              x.fill()\r\n            }\r\n          })\r\n        })\r\n      })\r\n      \r\n      this.t += 1/60\r\n      requestAnimationFrame(this.Draw)\r\n    }\r\n  },\r\n  mounted(){\r\n    this.$nextTick(()=>{\r\n      this.c = this.$refs.headerCanvas\r\n      this.x = this.c.getContext('2d')\r\n      this.t = 0\r\n      this.c.width = this.c.clientWidth\r\n      this.c.height = this.c.clientHeight\r\n      this.Draw()\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\ncanvas{\r\n  width: 100%;\r\n  height: 100px;\r\n  vertical-align: top;\r\n}\r\n.header{\r\n  position: relative;\r\n  z-index: 10;\r\n  width: 100vw;\r\n  font-size: 32px;\r\n  text-align: center;\r\n}\r\n.headerText{\r\n  font-size: 28px;\r\n  color: #fff8;\r\n  position: absolute;\r\n  min-width: 450px;\r\n  left: 50%;\r\n  top: 15px;\r\n  transform: translatex(-50%) scalex(2.0);\r\n  font-style: oblique;\r\n  text-shadow: 0px 0px 10px #0f4;\r\n}\r\n</style>\r\n","import { render } from \"./Header.vue?vue&type=template&id=0286617c&scoped=true\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=0286617c&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/whitehotrobot/tetris/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0286617c\"]])\n\nexport default __exports__","import { render } from \"./Main.vue?vue&type=template&id=961e8868&scoped=true\"\nimport script from \"./Main.vue?vue&type=script&lang=js\"\nexport * from \"./Main.vue?vue&type=script&lang=js\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=961e8868&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/whitehotrobot/tetris/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-961e8868\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=5344b21c\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=5344b21c&lang=css\"\n\nimport exportComponent from \"/home/whitehotrobot/tetris/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Main.vue?vue&type=style&index=0&id=961e8868&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Header.vue?vue&type=style&index=0&id=0286617c&scoped=true&lang=css\""],"sourceRoot":""}