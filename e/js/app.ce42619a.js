(function(t){function e(e){for(var a,l,n=e[0],r=e[1],c=e[2],h=0,u=[];h<n.length;h++)l=n[h],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&u.push(i[l][0]),i[l]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);d&&d(e);while(u.length)u.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],a=!0,n=1;n<s.length;n++){var r=s[n];0!==i[r]&&(a=!1)}a&&(o.splice(e--,1),t=l(l.s=s[0]))}return t}var a={},i={app:0},o=[];function l(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.m=t,l.c=a,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(s,a,function(e){return t[e]}.bind(null,a));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],r=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=r;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0287":function(t,e,s){},1873:function(t,e,s){"use strict";s("8cdf")},"27d3":function(t,e,s){},"377d":function(t,e,s){"use strict";s("9b23")},"396a":function(t,e,s){"use strict";s("5937")},"3a89":function(t,e,s){"use strict";s("615e")},"40f1":function(t,e,s){},"4e5e":function(t,e,s){"use strict";s("27d3")},"557b":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("7a23"),i=s("9aa5"),o=s.n(i);const l={id:"app"};function n(t,e,s,i,o,n){const r=Object(a["p"])("Controls"),c=Object(a["p"])("Header"),d=Object(a["p"])("Main"),h=Object(a["p"])("UserSettings"),u=Object(a["p"])("LoginPrompt"),g=Object(a["p"])("Footer");return Object(a["l"])(),Object(a["f"])("div",l,["embed"!==o.state.mode?(Object(a["l"])(),Object(a["d"])(r,{key:0,state:o.state},null,8,["state"])):Object(a["e"])("",!0),"embed"!==o.state.mode?(Object(a["l"])(),Object(a["d"])(c,{key:1,state:o.state},null,8,["state"])):Object(a["e"])("",!0),Object(a["i"])(d,{state:o.state},null,8,["state"]),o.state.userSettingsVisible?(Object(a["l"])(),Object(a["d"])(h,{key:2,state:o.state},null,8,["state"])):Object(a["e"])("",!0),o.state.loginPromptVisible?(Object(a["l"])(),Object(a["d"])(u,{key:3,state:o.state},null,8,["state"])):Object(a["e"])("",!0),Object(a["i"])(g,{state:o.state},null,8,["state"])])}const r=t=>(Object(a["n"])("data-v-1bf912d7"),t=t(),Object(a["m"])(),t),c={key:0},d={key:0,class:"flex"},h={key:1,style:{"font-size":"1.5em"}},u=r(()=>Object(a["g"])("br",null,null,-1)),g=r(()=>Object(a["g"])("br",null,null,-1)),p=r(()=>Object(a["g"])("br",null,null,-1)),b=r(()=>Object(a["g"])("br",null,null,-1)),m=r(()=>Object(a["g"])("br",null,null,-1)),f=r(()=>Object(a["g"])("br",null,null,-1)),k=r(()=>Object(a["g"])("br",null,null,-1)),j=r(()=>Object(a["g"])("br",null,null,-1)),O={key:1,style:{"font-size":"1.5em"}},y=r(()=>Object(a["g"])("br",null,null,-1)),D=r(()=>Object(a["g"])("br",null,null,-1)),w=r(()=>Object(a["g"])("br",null,null,-1)),Q=r(()=>Object(a["g"])("br",null,null,-1)),T=r(()=>Object(a["g"])("br",null,null,-1)),P=r(()=>Object(a["g"])("br",null,null,-1)),v=r(()=>Object(a["g"])("br",null,null,-1)),x=r(()=>Object(a["g"])("br",null,null,-1)),U={key:0,class:"flex"},C={key:1,style:{"font-size":"1.5em"}},A=r(()=>Object(a["g"])("br",null,null,-1)),I=r(()=>Object(a["g"])("br",null,null,-1)),S=r(()=>Object(a["g"])("br",null,null,-1)),N=r(()=>Object(a["g"])("br",null,null,-1)),L=r(()=>Object(a["g"])("br",null,null,-1)),R=r(()=>Object(a["g"])("br",null,null,-1)),M=r(()=>Object(a["g"])("br",null,null,-1)),B=r(()=>Object(a["g"])("br",null,null,-1)),E={key:0},V={key:0,class:"flex"},F={key:1,style:{"font-size":"1.5em"}},H=r(()=>Object(a["g"])("br",null,null,-1)),z=r(()=>Object(a["g"])("br",null,null,-1)),W=r(()=>Object(a["g"])("br",null,null,-1)),q=r(()=>Object(a["g"])("br",null,null,-1)),J=r(()=>Object(a["g"])("br",null,null,-1)),K=r(()=>Object(a["g"])("br",null,null,-1)),G=r(()=>Object(a["g"])("br",null,null,-1)),X=r(()=>Object(a["g"])("br",null,null,-1)),$=r(()=>Object(a["g"])("br",null,null,-1)),Y=r(()=>Object(a["g"])("br",null,null,-1)),Z={key:1},_={key:0,class:"flex"},tt={key:1,style:{"font-size":"2em"}},et=r(()=>Object(a["g"])("br",null,null,-1)),st=r(()=>Object(a["g"])("br",null,null,-1)),at=r(()=>Object(a["g"])("br",null,null,-1)),it={style:{width:"300px","padding-left":"50px","margin-left":"auto","margin-right":"auto","text-align":"left"}},ot={key:2,style:{"font-size":"1.5em"}},lt=r(()=>Object(a["g"])("br",null,null,-1)),nt=r(()=>Object(a["g"])("br",null,null,-1)),rt=r(()=>Object(a["g"])("br",null,null,-1)),ct=r(()=>Object(a["g"])("br",null,null,-1)),dt=r(()=>Object(a["g"])("br",null,null,-1)),ht=r(()=>Object(a["g"])("br",null,null,-1)),ut=r(()=>Object(a["g"])("br",null,null,-1)),gt=r(()=>Object(a["g"])("br",null,null,-1)),pt=r(()=>Object(a["g"])("br",null,null,-1));function bt(t,e,s,i,o,l){const n=Object(a["p"])("Track");return Object(a["l"])(),Object(a["f"])("div",{class:Object(a["j"])(["main",{footerPadding:"track"==s.state.mode}])},[""==s.state.search.string?(Object(a["l"])(),Object(a["f"])("div",c,["track"!=s.state.mode&&"embed"!=s.state.mode||!s.state.tracks.length||null==s.state.tracks[0]||"undefined"==typeof s.state.tracks[0].id?!s.state.loaded||"track"!=s.state.mode&&"embed"!=s.state.mode?Object(a["e"])("",!0):(Object(a["l"])(),Object(a["f"])("div",O,[y,D,w,Q,T,Object(a["h"])("OOPS!! "),P,v,x,Object(a["h"])("this track could not be found! ")])):(Object(a["l"])(),Object(a["f"])("div",{key:0,class:Object(a["j"])(["trackDiv",{highTop:s.state.showControls}])},[s.state.tracks.length?(Object(a["l"])(),Object(a["f"])("div",d,[(Object(a["l"])(!0),Object(a["f"])(a["a"],null,Object(a["o"])(s.state.tracks,t=>(Object(a["l"])(),Object(a["d"])(n,{key:t.id,track:t,state:s.state},null,8,["track","state"]))),128))])):!s.state.loaded||"track"!=s.state.mode&&"embed"!=s.state.mode?Object(a["e"])("",!0):(Object(a["l"])(),Object(a["f"])("div",h,[u,g,p,b,m,Object(a["h"])("OOPS! "),f,k,j,Object(a["h"])("this track could not be found! ")]))],2)),"default"==s.state.mode?(Object(a["l"])(),Object(a["f"])("div",{key:2,class:Object(a["j"])(["trackDiv",{highTop:s.state.showControls}])},[l.filteredLandingPageTracks.length?(Object(a["l"])(),Object(a["f"])("div",U,[(Object(a["l"])(!0),Object(a["f"])(a["a"],null,Object(a["o"])(l.filteredLandingPageTracks,t=>(Object(a["l"])(),Object(a["d"])(n,{key:t.id,track:t,state:s.state},null,8,["track","state"]))),128))])):s.state.loaded?(Object(a["l"])(),Object(a["f"])("div",C,[A,I,S,Object(a["h"])("OOPS! "),N,Object(a["h"])("we seem to be missing some tracks! "),L,R,Object(a["h"])(" :("),M,B,Object(a["h"])(" maybe try a different search? ")])):Object(a["e"])("",!0)],2)):Object(a["e"])("",!0),"u"==s.state.mode?(Object(a["l"])(),Object(a["f"])("div",{key:3,class:Object(a["j"])(["trackDiv",{highTop:s.state.showControls}])},[s.state.loaded&&s.state.user.name?(Object(a["l"])(),Object(a["f"])("div",E,[l.filteredUserTracks.length?(Object(a["l"])(),Object(a["f"])("div",V,[(Object(a["l"])(!0),Object(a["f"])(a["a"],null,Object(a["o"])(l.filteredUserTracks,t=>(Object(a["l"])(),Object(a["d"])(n,{key:t.id,track:t,state:s.state},null,8,["track","state"]))),128))])):s.state.loaded?(Object(a["l"])(),Object(a["f"])("div",F,[H,z,W,q,Object(a["h"])("OOPS! "),J,K,Object(a["h"])(Object(a["r"])(s.state.user.name)+" has not",1),G,Object(a["h"])("uploaded any tracks yet! "),X,$,Y,Object(a["h"])(" :( ")])):Object(a["e"])("",!0)])):Object(a["e"])("",!0)],2)):Object(a["e"])("",!0)])):(Object(a["l"])(),Object(a["f"])("div",Z,[Object(a["g"])("div",{class:Object(a["j"])(["trackDiv",{highTop:s.state.showControls}])},[s.state.search.audiocloudTracks.length?(Object(a["l"])(),Object(a["f"])("div",_,[(Object(a["l"])(!0),Object(a["f"])(a["a"],null,Object(a["o"])(s.state.search.audiocloudTracks,t=>(Object(a["l"])(),Object(a["d"])(n,{key:t.id,track:t,state:s.state},null,8,["track","state"]))),128))])):Object(a["e"])("",!0),s.state.search.inProgress?(Object(a["l"])(),Object(a["f"])("div",tt,[et,st,at,Object(a["g"])("div",it,Object(a["r"])(l.searchingText),1)])):!s.state.search.audiocloudTracks.length&&s.state.loaded?(Object(a["l"])(),Object(a["f"])("div",ot,[lt,Object(a["h"])("DRAT! "),nt,rt,Object(a["h"])("your search did not return anything! "),ct,dt,Object(a["h"])(" maybe try something more general,"),ht,Object(a["h"])('like "whitehot robot" '),ut,gt,pt,Object(a["h"])(" :( ")])):Object(a["e"])("",!0)],2)]))],2)}const mt=t=>(Object(a["n"])("data-v-2894a67f"),t=t(),Object(a["m"])(),t),ft={key:0,class:"embedCode"},kt={class:"embedCodeInner"},jt=["href","innerHTML"],Ot={key:2,class:"trackElem",style:{display:"inline-block",width:"490px",float:"left"}},yt={style:{"word-break":"keep-all",display:"inline-block"}},Dt={key:3,class:"trackElem",style:{width:"400px","text-align":"center"}},wt=["innerHTML"],Qt={style:{"margin-left":"20px","word-break":"keep-all",display:"inline-block"}},Tt=mt(()=>Object(a["g"])("div",{style:{clear:"both"}},null,-1)),Pt={key:0},vt=mt(()=>Object(a["g"])("td",{class:"tdLeft"},"description ",-1)),xt={class:"tdRight"},Ut={key:0,class:"trackElem"},Ct={key:1,class:"trackElem"},At=["innerHTML"],It=mt(()=>Object(a["g"])("td",{class:"tdLeft"},"date added ",-1)),St={class:"tdRight"},Nt=["innerHTML"],Lt=mt(()=>Object(a["g"])("td",{class:"tdLeft"},"duration ",-1)),Rt={class:"tdRight"},Mt=["innerHTML"],Bt=mt(()=>Object(a["g"])("td",{class:"tdLeft"},"share ",-1)),Et={class:"tdRight"},Vt=["href","innerHTML"],Ft=["href","download"],Ht=["href","download"],zt={key:0},Wt=mt(()=>Object(a["g"])("td",{class:"tdLeft"},null,-1)),qt={class:"tdRight",style:{"padding-right":"30px"}},Jt=["for"],Kt=["id"],Gt=mt(()=>Object(a["g"])("span",{class:"checkmark"},null,-1)),Xt=mt(()=>Object(a["g"])("span",{style:{"font-size":".8em","margin-top":"0px",display:"block",color:"#ff8"}},"private",-1)),$t={class:"tdLeft"},Yt=["for"],Zt=["id"],_t=mt(()=>Object(a["g"])("span",{class:"checkmark"},null,-1)),te=mt(()=>Object(a["g"])("span",{style:{"font-size":".8em","margin-top":"0px",display:"block",color:"#ff8"}},"allow public download",-1)),ee={ref:"canvas",class:"canvas"},se={key:4,class:"commentContainer"},ae=mt(()=>Object(a["g"])("div",{class:"commentsHeader",style:{background:"linear-gradient(90deg, #102f, #1023, #0000)",display:"inline-block","padding-right":"200px","padding-left":"10px",color:"#2f4","margin-bottom":"10px",height:"25px","line-height":"20px","margin-left":"-10px"}}," comments ",-1)),ie={key:0},oe={class:"commentMain"},le=["innerHTML"],ne={key:0,class:"commentUserName",style:{"font-size":"20px"}},re=["href"],ce=mt(()=>Object(a["g"])("br",null,null,-1)),de={key:1,style:{display:"inline-block",width:"calc(100% + 30px)"}},he=["onInput","onUpdate:modelValue"],ue=["onClick"],ge=["onClick"],pe={key:2,style:{display:"inline-block",width:"calc(100% + 10px)",left:"0!important","padding-right":"0"}},be=["innerHTML"],me=["onClick"],fe=mt(()=>Object(a["g"])("div",{style:{clear:"both"}},null,-1)),ke={key:0,style:{"text-align":"center"}},je=mt(()=>Object(a["g"])("span",{style:{display:"inline-block","font-size":"32px"}},"...",-1)),Oe={key:1},ye=mt(()=>Object(a["g"])("div",{style:{"text-align":"center"}},"-- no comments --",-1)),De={key:0,style:{"text-align":"center"}},we={key:2},Qe=mt(()=>Object(a["g"])("div",{style:{clear:"both"}},null,-1));function Te(t,e,s,i,o,l){const n=Object(a["q"])("linkified");return Object(a["l"])(),Object(a["f"])("div",{class:Object(a["j"])(["trackContainer",{singleTrack:"track"==s.state.mode,embedTrack:"embed"==s.state.mode}]),ref:"trackContainer"+s.track.id},[o.showEmbedCode?(Object(a["l"])(),Object(a["f"])("div",ft,[Object(a["g"])("div",kt,[Object(a["g"])("div",{class:Object(a["j"])(["embedcodetext",{pulse:o.pulse}]),ref:"embedCodeText"+s.track.id},Object(a["r"])(l.embedCodeText),3),Object(a["g"])("button",{onClick:e[0]||(e[0]=t=>l.copyDivToClipboard("embedCodeText"+s.track.id)),class:Object(a["j"])(["embedbutton copytoclipbutton",{pulse:o.pulse}])},"     copy",2),Object(a["g"])("button",{onClick:e[1]||(e[1]=t=>o.showEmbedCode=!1),class:"embedbutton"},"close")])])):Object(a["e"])("",!0),Object(a["i"])(a["b"],{name:"fadePulse"},{default:Object(a["v"])(()=>[o.showPulse?(Object(a["l"])(),Object(a["f"])("div",{key:0,style:{position:"absolute",width:"100%",background:"#0f0","z-index":"-1","margin-left":"-10px","margin-top":"-10px","border-radius":"10px"},ref:"pulse"+s.track.id},null,512)):Object(a["e"])("",!0)]),_:1}),s.state.loggedinUserName.toUpperCase()==s.track.author.toUpperCase()||s.state.isAdmin?(Object(a["l"])(),Object(a["f"])("button",{key:1,class:"deleteTrackButton",onClick:e[2]||(e[2]=t=>l.deleteTrack(s.track))})):Object(a["e"])("",!0),Object(a["g"])("div",{class:"avatar",style:Object(a["k"])("float: left;max-width: 100px;background-image:url("+s.state.getAvatar(s.track.userID)+");width:100px;height:100px;background-repeat: no-repeat; background-position: center center; background-size: cover;")},null,4),Object(a["g"])("a",{href:s.state.baseURL+"/?i=/u/"+s.track.author,target:"_blank",class:"link",innerHTML:s.track.author,style:{float:"left"}},null,8,jt),s.state.loggedinUserName.toUpperCase()==s.track.author.toUpperCase()||s.state.isAdmin?(Object(a["l"])(),Object(a["f"])("div",Ot,[Object(a["w"])(Object(a["g"])("input",{maxlength:"128",class:Object(a["j"])([{success:1==o.updated["trackName"],failure:-1==o.updated["trackName"]},"textInput"]),style:{width:"350px",float:"left"},placeholder:"track name",onInput:e[3]||(e[3]=t=>l.updateTrackItem(s.track.id,"trackName")),type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>s.track.trackName=t)},null,34),[[a["u"],s.track.trackName]]),Object(a["g"])("span",yt,Object(a["r"])(s.track.plays+" view"+(1!=s.track.plays?"s":"")),1)])):(Object(a["l"])(),Object(a["f"])("div",Dt,[Object(a["g"])("span",{class:"trackTitle",innerHTML:'"'+s.track.trackName+'"',style:{"font-size":"26px","font-style":"oblique",color:"#0f8","word-break":"break-word"}},null,8,wt),Object(a["g"])("span",Qt,Object(a["r"])(s.track.plays+" view"+(s.track.plays>1?"s":"")),1)])),Tt,Object(a["g"])("table",null,[s.track.description||s.state.loggedinUserName.toUpperCase()==s.track.author.toUpperCase()||s.state.isAdmin?(Object(a["l"])(),Object(a["f"])("tr",Pt,[vt,Object(a["g"])("td",xt,[s.state.loggedinUserName.toUpperCase()==s.track.author.toUpperCase()||s.state.isAdmin?(Object(a["l"])(),Object(a["f"])("div",Ut,[Object(a["w"])(Object(a["g"])("input",{maxlength:"256",class:Object(a["j"])([{success:1==o.updated["description"],failure:-1==o.updated["description"]},"textInput"]),onInput:e[5]||(e[5]=t=>l.updateTrackItem(s.track.id,"description")),type:"text","onUpdate:modelValue":e[6]||(e[6]=t=>s.track.description=t)},null,34),[[a["u"],s.track.description]])])):(Object(a["l"])(),Object(a["f"])("div",Ct,[Object(a["g"])("span",{class:"date",innerHTML:s.track.description},null,8,At)]))])])):Object(a["e"])("",!0),Object(a["g"])("tr",null,[It,Object(a["g"])("td",St,[Object(a["g"])("span",{class:"date",innerHTML:l.formattedDate(s.track.date)},null,8,Nt)])]),Object(a["g"])("tr",null,[Lt,Object(a["g"])("td",Rt,[Object(a["g"])("span",{class:"date",innerHTML:l.formattedDuration()},null,8,Mt)])]),Object(a["g"])("tr",null,[Bt,Object(a["g"])("td",Et,[Object(a["g"])("a",{class:"fileLink",target:"_blank",href:s.state.baseURL+"/?i=/track/"+s.state.decToAlpha(s.track.id),innerHTML:"/"+s.state.decToAlpha(s.track.id)},null,8,Vt),1==s.track.allowDownload||s.state.loggedinUserName.toUpperCase()==s.track.author.toUpperCase()||s.state.isAdmin?(Object(a["l"])(),Object(a["f"])("a",{key:0,class:"fileLink",href:"/?i=/audio/"+s.track.audioFile.split("/")[s.track.audioFile.split("/").length-1],download:s.track.author+" - "+s.track.trackName+s.track.audioFile.substring(s.track.audioFile.length-4).toLowerCase(),style:{"margin-left":"10px"}}," download file ",8,Ft)):Object(a["e"])("",!0),1==s.track.allowDownload||s.state.loggedinUserName.toUpperCase()==s.track.author.toUpperCase()||s.state.isAdmin?(Object(a["l"])(),Object(a["f"])("button",{key:1,class:"fileLink",href:"/?i=/audio/"+s.track.audioFile.split("/")[s.track.audioFile.split("/").length-1],download:s.track.author+" - "+s.track.trackName+s.track.audioFile.substring(s.track.audioFile.length-4).toLowerCase(),style:{"margin-left":"10px","padding-left":"12px","padding-right":"12px","min-width":"initial"},onClick:e[7]||(e[7]=t=>o.showEmbedCode=!0)}," embed code ",8,Ht)):Object(a["e"])("",!0)])])]),Object(a["g"])("table",null,[s.state.loggedinUserName.toUpperCase()==s.track.author.toUpperCase()||s.state.isAdmin?(Object(a["l"])(),Object(a["f"])("tr",zt,[Wt,Object(a["g"])("td",qt,[(Object(a["l"])(),Object(a["f"])("label",{for:"privateCheckbox"+s.track.id,key:"cblabel"+s.track.id,class:"checkboxLabel",style:{"padding-top":"5px","margin-bottom":"0px",display:"inline-block","margin-left":"100px"},title:"omit this post from the home page"},[Object(a["w"])((Object(a["l"])(),Object(a["f"])("input",{type:"checkbox",key:"cbkey"+s.track.id,id:"privateCheckbox"+s.track.id,"onUpdate:modelValue":e[8]||(e[8]=t=>s.track.private=t),onInput:e[9]||(e[9]=t=>l.updateTrackItem(s.track.id,"private"))},null,40,Kt)),[[a["s"],s.track.private]]),Gt,Xt],8,Jt))]),Object(a["g"])("td",$t,[(Object(a["l"])(),Object(a["f"])("label",{for:"allowdlCheckbox"+s.track.id,key:"cblabel"+s.track.id,class:"checkboxLabel",style:{"padding-top":"3px","margin-bottom":"0px",display:"inline-block","margin-left":"10px"},title:"allow public download"},[Object(a["w"])((Object(a["l"])(),Object(a["f"])("input",{type:"checkbox",key:"cbkeydl"+s.track.id,id:"allowdlCheckbox"+s.track.id,"onUpdate:modelValue":e[10]||(e[10]=t=>s.track.allowDownload=t),onInput:e[11]||(e[11]=t=>l.updateTrackItem(s.track.id,"allowDownload"))},null,40,Zt)),[[a["s"],s.track.allowDownload]]),_t,te],8,Yt))])])):Object(a["e"])("",!0)]),Object(a["g"])("div",{class:Object(a["j"])(["audioContainer",{embedAudioContainer:"embed"==s.state.mode}])},[s.track.playing?(Object(a["l"])(),Object(a["f"])("button",{key:1,class:Object(a["j"])(["pausebutton",{disabledPauseButton:!s.track.canPlay}]),onClick:e[13]||(e[13]=t=>l.playPauseTrack())},null,2)):(Object(a["l"])(),Object(a["f"])("button",{key:0,class:Object(a["j"])(["playbutton",{disabledPlayButton:!s.track.canPlay}]),onClick:e[12]||(e[12]=t=>l.playPauseTrack()),title:"play/pause track [space]"},null,2)),Object(a["g"])("button",{onClick:e[14]||(e[14]=t=>o.loop=!o.loop),class:Object(a["j"])(["smallControlButton loopButton",{highlighted:o.loop}]),title:"loop track"},null,2),Object(a["g"])("button",{class:"smallControlButton resetButton",onClick:e[15]||(e[15]=t=>l.resetTrack()),title:"start of track (or prev. track if pos<dur/20) [left arrow key]"}),Object(a["g"])("button",{class:"smallControlButton jumpToNextButton",onClick:e[16]||(e[16]=t=>{s.track.mp3.currentTime=Math.max(6e6,s.track.mp3.duration-.1),o.skipRedraw&&(o.B=[],l.Draw(o.skipRedraw=!1))}),title:"play next track [right arrow key]"}),Object(a["g"])("canvas",ee,null,512)],2),"embed"!=s.state.mode?(Object(a["l"])(),Object(a["f"])("div",se,[ae,s.track.comments.length?(Object(a["l"])(),Object(a["f"])("div",ie,[(Object(a["l"])(!0),Object(a["f"])(a["a"],null,Object(a["o"])(l.filteredComments,t=>(Object(a["l"])(),Object(a["f"])("div",null,[Object(a["g"])("div",oe,[Object(a["g"])("span",{class:"timestamp",innerHTML:l.processedTimestamp(t.date),style:{float:"right",display:"inline-block!important"}},null,8,le),"undefined"!=typeof s.state.userInfo[t.userID]?(Object(a["l"])(),Object(a["f"])("span",ne,[Object(a["g"])("div",{class:Object(a["j"])([{bumpUp:-1!==s.state.userAgent.toUpperCase().indexOf("FIREFOX")},"commentAvatar"]),style:Object(a["k"])("background-image:url("+s.state.getAvatar(t.userID)+");width:50px!important;height:50px!important;background-repeat: no-repeat; background-position: center center; background-size: cover;")},null,6),Object(a["g"])("a",{href:s.state.baseURL+"/?i=/u/"+s.state.userInfo[t.userID].name,target:"_blank",style:{color:"#4dc!important","font-style":"oblique","margin-left":"5px"}},Object(a["r"])(s.state.userInfo[t.userID].name),9,re)])):Object(a["e"])("",!0),ce,t.editing&&s.state.loggedin?(Object(a["l"])(),Object(a["f"])("div",de,[Object(a["w"])(Object(a["g"])("input",{maxlength:"1024",type:"text",ref_for:!0,ref:"comment"+t.id,class:Object(a["j"])(["commentInput textInput",{success:1==t.updated,failure:-1==t.updated}]),style:{width:"calc(100% - 100px)"},onInput:e=>l.editComment(t),"onUpdate:modelValue":e=>t.text=e},null,42,he),[[a["u"],t.text]]),t.userID==s.state.loggedinUserID||s.state.isAdmin?(Object(a["l"])(),Object(a["f"])("button",{key:0,onClick:e=>t.editing=!t.editing,class:"commentEditButton",style:{"min-width":"0",margin:"0","margin-top":"-1px",height:"25px",left:"0"}},null,8,ue)):Object(a["e"])("",!0),Object(a["g"])("button",{onClick:e=>l.deleteComment(t,s.track),class:"commentDeleteButton",style:{"min-width":"0",margin:"0","margin-top":"-1px",height:"25px",left:"0"}},null,8,ge)])):(Object(a["l"])(),Object(a["f"])("div",pe,[Object(a["w"])(Object(a["g"])("span",{class:"commentText",innerHTML:t.text,style:{width:"calc(100% - 68px)"}},null,8,be),[[n]]),t.userID==s.state.loggedinUserID||s.state.isAdmin?(Object(a["l"])(),Object(a["f"])("button",{key:0,onClick:e=>l.toggleEditMode(t),class:"commentEditButton",style:{"min-width":"0",margin:"0","margin-top":"-1px",height:"25px",left:"0",display:"inline-block","background-image":"url(http://jsbot.cantelope.org/2cyWBg.png)"}},null,8,me)):Object(a["e"])("",!0)])),fe])]))),256)),l.moreComments?(Object(a["l"])(),Object(a["f"])("div",ke,[je,Object(a["g"])("button",{class:"loadCommentsButton",onClick:e[17]||(e[17]=t=>l.incrComments())},"load more comments")])):Object(a["e"])("",!0)])):(Object(a["l"])(),Object(a["f"])("div",Oe,[ye,s.state.loggedin?Object(a["e"])("",!0):(Object(a["l"])(),Object(a["f"])("div",De,"(log in to comment on this track)"))])),s.state.loggedin?(Object(a["l"])(),Object(a["f"])("div",we,[Object(a["g"])("input",{maxlength:"1024",onKeyup:e[18]||(e[18]=Object(a["x"])(t=>l.postComment(s.track.id),["enter"])),ref:"newComment"+s.track.id,placeholder:"say something...",class:"commentInput newComment textInput",style:{"margin-left":"0","margin-top":"16px"}},null,544),Object(a["g"])("button",{onClick:e[19]||(e[19]=t=>l.postComment(s.track.id)),style:{background:"#1ca",padding:"0","padding-bottom":"4px",margin:"0","margin-left":"25px",display:"block","margin-top":"14px","min-width":"initial","padding-left":"10px","padding-right":"10px",float:"left"}},"post"),Qe])):Object(a["e"])("",!0)])):Object(a["e"])("",!0)],2)}s("14d9"),s("b7ef"),s("907a"),s("986a"),s("1d02"),s("3c5d"),s("6ce5"),s("2834"),s("4ea1");var Pe={name:"Main",props:["state","track"],data(){return{t:0,loop:!1,trackAmplitude:[],marquisTimer:null,showComments:3,skipRedraw:!1,moreCommentsVal:5,pulse:!1,showEmbedCode:!1,x:null,B:[],P:[],audioCtx:null,updated:{title:0,favicon:0},trackdata:[],c:null,percentLoaded:0,showPulse:!0,duration:0,trackAnalyzed:!1,bufferLength:null,analyzer:null,fftsize:256}},methods:{copyDivToClipboard(t){var e=document.createRange();e.selectNode(this.$refs[t]),window.getSelection().removeAllRanges(),window.getSelection().addRange(e),document.execCommand("copy"),window.getSelection().removeAllRanges(),this.pulse=!0,setTimeout(()=>this.pulse=!1,200)},resetTrack(){this.track.mp3.currentTime<this.track.mp3.duration/20?(this.skipRedraw&&(this.B=[],this.Draw(this.skipRedraw=!1)),this.state.playPreviousTrack()):(this.track.mp3.currentTime=0,this.skipRedraw&&(this.B=[],this.Draw(this.skipRedraw=!1)))},doMarquis(){if(this.track.playing){let t=this.track.author+" - "+this.track.trackName,e=this.marquisTimer++%t.length;document.title=t.substring(e)+"  -  "+t.substring(0,e)}},incrComments(){this.showComments+=this.moreCommentsVal},toggleEditMode(t){t.editing=!t.editing,t.editing&&this.$nextTick(()=>{this.$refs["comment"+t.id].focus(),this.$refs["comment"+t.id].select()})},deleteComment(t,e){if(confirm("are you SURE you want to delete this comment?!?!?\n\n\nTHIS ACTION IS IRREVERSIBLE!")){let s=t.id,a={userName:this.state.loggedinUserName,passhash:this.state.passhash,commentID:s};fetch(this.state.baseURL+"/deleteComment.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(t=>t.json()).then(t=>{t[0]&&(e.comments=e.comments.filter(t=>t.id!=s))})}},editComment(t){let e=t.id,s=this.$refs["comment"+e].value,a={userName:this.state.loggedinUserName,comment:s,passhash:this.state.passhash,commentID:e};fetch(this.state.baseURL+"/updateComment.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(t=>t.json()).then(e=>{e[0]?(t.updated=1,setTimeout(()=>t.updated=0,1e3)):(t.updated=-1,setTimeout(()=>t.updated=0,1e3))})},postComment(t){let e=this.$refs["newComment"+t].value;if(e.length){let s={userName:this.state.loggedinUserName,comment:e,passhash:this.state.passhash,trackID:t};fetch(this.state.baseURL+"/postComment.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(t=>t.json()).then(s=>{if(s[0]){let a={userID:this.state.loggedinUserID,text:e,trackID:t,id:s[1],date:s[2]};if(this.state.search.string)this.state.search.audiocloudTracks.filter(e=>e.id==t)[0].comments.push(a);else switch(this.state.mode){case"u":this.state.user.audiocloudTracks.filter(e=>e.id==t)[0].comments.push(a);break;case"default":this.state.landingPage.audiocloudTracks.filter(e=>e.id==t)[0].comments.push(a);break;case"track":this.state.tracks.filter(e=>e.id==t)[0].comments.push(a);break}this.$refs["newComment"+t].value=""}})}},processedTimestamp(t){let e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=Array(7).fill(""),a=[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11],i=new Date(Date.parse(t.replace(/-/g,"/"))),o=""+i.getMinutes();return 1==o.length&&(o="0"+o),a[i.getHours()]+":"+o+(i.getHours<12?"AM":"PM")+" - "+s[i.getDay()]+e[i.getMonth()]+" "+i.getDate()+" "+i.getFullYear()},deleteTrack(t){if(confirm('\n\n\nAre you SURE you want to delete this track??!?!\n\n\n     Track: "'+t.trackName+'"\n     created: '+this.formattedDate(t.date)+"\n\n\nThis action is IRREVERSIBLE!!!!")){this.track.mp3.pause();let e={userName:this.state.loggedinUserName,trackID:+t.id,passhash:this.state.passhash};fetch(this.state.baseURL+"/deleteTrack.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(t=>t.json()).then(e=>{if(this.state.search.string)this.state.search.audiocloudTracks=this.state.search.audiocloudTracks.filter(e=>e.id!=t.id);else switch(this.state.mode){case"u":this.state.user.audiocloudTracks=this.state.user.audiocloudTracks.filter(e=>e.id!=t.id);break;case"default":this.state.landingPage.audiocloudTracks=this.state.landingPage.audiocloudTracks.filter(e=>e.id!=t.id);break;case"track":this.state.tracks=this.state.tracks.filter(e=>e.id!=t.id);break}})}},updateTrackItem(t,e){let s;if(this.state.search.string)s=this.state.search.audiocloudTracks.filter(e=>e.id==t)[0][e];else switch(this.state.mode){case"default":s=this.state.landingPage.audiocloudTracks.filter(e=>e.id==t)[0][e];break;case"track":s=this.state.tracks.filter(e=>e.id==t)[0][e];break;case"u":s=this.state.user.audiocloudTracks.filter(e=>e.id==t)[0][e];break}"private"==e&&(s=s?0:1),"allowDownload"==e&&(s=s?0:1);let a={userName:this.state.loggedinUserName,item:e,newItemVal:s,passhash:this.state.passhash,trackID:t};fetch(this.state.baseURL+"/updateTrackItem.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(t=>t.json()).then(t=>{t[0]?(this.updated[e]=1,setTimeout(()=>this.updated[e]=0,1e3)):(this.updated[e]=-1,setTimeout(()=>this.updated[e]=0,1e3))})},formattedDuration(){return(this.duration/60/60|0)+" hr : "+(this.duration/60|0)+" min : "+(60*(this.duration/60-(this.duration/60|0))|0)+" seconds"},formattedDate(t){let e=["January","February","March","April","May","June","July","August","September","October","November","December"];var s=new Date(t);let a=""+s.getMinutes();return 1==a.length&&(a="0"+a),e[s.getMonth()]+" "+s.getDate()+", "+s.getFullYear()+" • "+(s.getHours()%12+1)+":"+a+" "+(s.getHours()<12?"AM":"PM")},playPauseTrack(){this.track.playing?this.track.playing=!1:(this.state.pauseVisible(),this.track.playing=!0)},Draw(){if(this.skipRedraw)return;let t=this.t,e=this.x,s=this.c;Math.sin,Math.cos;if(e.fillStyle="#0006",e.fillRect(0,0,s.width,s.height),e.lineJoin=e.lineCap="round",this.trackAnalyzed&&"undefined"!==typeof this.track.mp3&&"undefined"!=typeof this.track.leftChannelData){e.fillStyle="#000",e.fillRect(0,0,s.width,s.height);let a=256;e.strokeStyle="#affa",e.beginPath();let i=this.track.mp3.currentTime/this.track.mp3.duration;e.lineTo(s.width*i,0),e.lineTo(s.width*i,s.height),e.lineWidth=2+s.width/400|0,e.stroke();for(let o=a;o--;){let l,n,r,c;this.track.playing?(l=`hsla(${360/a*o+300*-t+0}, 99%,50%,.75)`,r=`hsla(${360/a*o+300*-t+180}, 99%,50%,.75)`):(l=`hsla(${360/a*o/4+50*t+0}, 15%, 50%, .75)`,r=`hsla(${360/a*o/4+50*t+180}, 15%, 50%, .75)`),n=`hsla(${360/a*o/4+50*t+90}, 15%, 50%, .75)`,c=`hsla(${360/a*o/4+50*t+270}, 15%, 50%, .75)`,e.beginPath(),e.lineTo(s.width/a*o,s.height/2);let d=this.track.leftChannelData.length/a*o|0,h=Math.abs(this.track.leftChannelData[d])*s.height/2;e.lineTo(s.width/a*o,s.height/2+h),e.strokeStyle=o<=i*a?l:n,e.stroke(),e.beginPath(),e.lineTo(s.width/a*o,s.height/2),d=this.track.rightChannelData.length/a*o|0,h=Math.abs(this.track.rightChannelData[d])*s.height/2,e.lineTo(s.width/a*o,s.height/2-h),e.strokeStyle=o<=i*a?r:c,e.stroke()}if(this.trackAnalyzed){for(let t=20;t--;)this.B.push([s.width*i,Math.random()*s.height,.01]);this.B=this.B.map(t=>{let s=(t[0]-=t[2]/2)-2,a=t[1];return t[2]+=.05+t[2]/25,e.fillStyle=`hsla(200,99%,80%,${.05/(1+(1+t[2])**2/40)})`,e.fillRect(s,a-2.5,5,5),t}).filter(t=>t[0]>0)}"undefined"!=typeof this.track.mp3.currentTime&&(e.font="16px Play",e.fillStyle="#4fc8",e.fillText(this.formattedCurrentTime(),s.width-120,16))}else{let a;e.fillStyle="#0fa2",e.fillRect(0,0,s.width*this.percentLoaded/100,s.height),e.font="26px Play",e.fillStyle="#2fa8",e.fillText("<"+"-".repeat((60*t|0)%16)+"loading"+"-".repeat(a=(60*t|0)%16)+">",s.width/2-60-9.3*a,s.height/2+10)}this.t+=1/60,!this.track.playing&&this.trackAnalyzed&&(this.skipRedraw=!0),requestAnimationFrame(this.Draw)},formattedCurrentTime(){let t=this.track.mp3.currentTime/60/60|0,e=60*(this.track.mp3.currentTime/60/60-t)|0,s=60*(60*(this.track.mp3.currentTime/60/60-t)-e)|0;t=""+t,e=""+e,s=""+s,0==t.length&&(t="00"),1==t.length&&(t="0"+t),0==e.length&&(e="00"),1==e.length&&(e="0"+e),0==s.length&&(s="00"),1==s.length&&(s="0"+s);let a,i=(+t?t+":":"")+e+":"+s;return t=(a=this.track.mp3.duration-this.track.mp3.currentTime)/60/60|0,e=60*(a/60/60-t)|0,s=60*(60*(a/60/60-t)-e)|0,t=""+t,e=""+e,s=""+s,0==t.length&&(t="00"),1==t.length&&(t="0"+t),0==e.length&&(e="00"),1==e.length&&(e="0"+e),0==s.length&&(s="00"),1==s.length&&(s="0"+s),i+"  ( -"+(+t?t+":":"")+e+":"+s+")"},stringToUint(t){t=btoa(unescape(encodeURIComponent(t)));for(var e=t.split(""),s=[],a=0;a<e.length;a++)s.push(e[a].charCodeAt(0));return new Uint16Array(s)}},computed:{embedCodeText(){return'<iframe style="transform:scale(.75);width:640px;height:400px;border:none;vertical-align:top;" src="'+this.state.baseURL+"/embed/"+this.state.decToAlpha(this.track.id)+'"></iframe>'},filteredComments(){return this.track.comments.filter((t,e)=>e<this.showComments)},moreComments(){return this.track.comments.length>this.showComments}},watch:{"track.jump"(t){if(t){let t=this.$refs["trackContainer"+this.track.id];window.scroll(0,t.offsetTop-80+(this.state.showControls?-160:0)),this.showPulse=!0,this.$nextTick(()=>{this.$refs["pulse"+this.track.id].style.width=this.$refs["trackContainer"+this.track.id].clientWidth+"px",this.$refs["pulse"+this.track.id].style.height=this.$refs["trackContainer"+this.track.id].clientHeight+"px"}),this.$nextTick(()=>{this.showPulse=!1})}},"track.playing"(t){t?this.$nextTick(()=>{this.track.mp3.play(),this.state.curPlayId=this.track.id,this.$nextTick(()=>{this.skipRedraw&&(this.skipRedraw=!1,this.Draw())})}):this.track.mp3.pause()}},beforeUnmount(){"undefined"!==typeof this.track.mp3&&(this.track.mp3.pause(),this.track.mp3.src="")},mounted(){if(this.track.jump=0,setInterval(()=>{this.doMarquis()},300),this.c=this.$refs.canvas,this.c.addEventListener("click",t=>{if(this.trackAnalyzed){let e=t.offsetX/this.c.clientWidth;this.track.mp3.currentTime=this.track.mp3.duration*e,this.state.pauseVisible(),this.track.playing||(this.track.playing=!1,this.$nextTick(()=>{this.skipRedraw,this.track.playing=!0}))}}),this.c.width=this.c.clientWidth,this.c.height=this.c.clientHeight,window.addEventListener("resize",()=>{this.c.width=this.c.clientWidth,this.c.height=this.c.clientHeight,this.skipRedraw&&(this.skipRedraw=!1,this.Draw())}),this.x=this.c.getContext("2d"),this.t=0,"undefined"==typeof this.track.mp3){this.track.mp3=new Audio,this.track.mp3.addEventListener("ended",()=>{this.state.playall&&!this.loop?this.state.playNextTrack():this.loop?(this.track.mp3.currentTime=0,this.track.playing=!1,this.$nextTick(()=>{this.track.playing=!0})):this.track.playing=!1}),this.track.mp3.addEventListener("canplay",()=>{"undefined"!==typeof this.track.mp3&&(this.duration=this.track.mp3.duration,this.track.canPlay=!0,"track"==this.state.mode&&(this.track.playing=!1,this.$nextTick(()=>{this.track.playing=!0})))}),this.track.mp3.src=this.track.audioFile;var t=window.AudioContext||window.webkitAudioContext;this.audioCtx=new t;let e=new XMLHttpRequest;e.open("GET",this.track.audioFile,!0),e.responseType="arraybuffer",e.onprogress=t=>{this.percentLoaded=Math.round(t.loaded/t.total*100*100)/100},e.onload=()=>{let t=e.response;this.audioCtx.decodeAudioData(t,t=>{this.trackAnalyzed=!0,this.track.leftChannelData=t.getChannelData(0),this.track.rightChannelData=t.getChannelData(1)})},"track"==this.state.mode&&document.getElementsByTagName("html")[0].scroll(0,document.getElementsByTagName("html")[0].clientHeight/3.5),e.send()}else this.trackAnalyzed=!0;this.track.playing&&this.$nextTick(()=>{this.track.mp3.play()}),this.Draw()}},ve=(s("1873"),s("6b0d")),xe=s.n(ve);const Ue=xe()(Pe,[["render",Te],["__scopeId","data-v-2894a67f"]]);var Ce=Ue,Ae={name:"Main",components:{Track:Ce},props:["state"],methods:{},computed:{filteredLandingPageTracks(){return this.state.landingPage.audiocloudTracks},filteredUserTracks(){return null!=this.state.user&&"undefined"!==typeof this.state.user.audiocloudTracks?this.state.user.audiocloudTracks.filter(t=>!t.private||this.state.loggedinUserName.toUpperCase()==this.state.user.name.toUpperCase()||this.state.isAdmin):[]},searchingText(){return"Searching"+".".repeat((20*this.state.globalT|0)%8)}},mounted(){}};s("3a89"),s("396a");const Ie=xe()(Ae,[["render",bt],["__scopeId","data-v-1bf912d7"]]);var Se=Ie;const Ne=t=>(Object(a["n"])("data-v-5c6beb75"),t=t(),Object(a["m"])(),t),Le={class:"controlsWorkingSpace"},Re={key:0},Me={class:"navContainer"},Be={key:0,class:"advancedControls"},Ee=Ne(()=>Object(a["g"])("div",{style:{position:"absolute","z-index":"-1!important",background:"#246",width:"505px",height:"70px",opacity:".5","margin-top":"-10px","margin-left":"60px","border-radius":"5px"}},null,-1)),Ve={for:"allWords",key:"allwordslabel",class:"checkboxLabel",style:{float:"left",padding:"0",margin:"0","margin-left":"40px","padding-top":"5px","margin-bottom":"0px",display:"inline-block"}},Fe=["disabled","checked"],He=Ne(()=>Object(a["g"])("span",{class:"checkmark",style:{"margin-left":"-30px"}},null,-1)),ze=Ne(()=>Object(a["g"])("span",{style:{"font-size":".8em","margin-top":"0px",display:"block",color:"#ff8",padding:"0"}},"require all words",-1)),We=Ne(()=>Object(a["g"])("br",null,null,-1)),qe={for:"exact",key:"exactlabel",class:"checkboxLabel",style:{float:"left","margin-left":"40px","text-align":"left"}},Je=Ne(()=>Object(a["g"])("span",{class:"checkmark",style:{"margin-left":"-30px"}},null,-1)),Ke=Ne(()=>Object(a["g"])("span",{style:{"font-size":".8em","margin-top":"0px",display:"block",color:"#ff8",padding:"0","margin-left":"-35px"}},"exact",-1)),Ge=Ne(()=>Object(a["g"])("div",{style:{clear:"both"}},null,-1)),Xe={key:0,style:{position:"absolute",left:"50%","margin-left":"-100px","margin-top":"-80px"}},$e={for:"playall",class:"checkboxLabel",style:{margin:"0",padding:"0","margin-left":"25px","padding-left":"32px"}},Ye=Ne(()=>Object(a["g"])("span",{class:"checkmark",style:{"margin-top":"-5px"}},null,-1)),Ze=Ne(()=>Object(a["g"])("span",{style:{"font-size":".8em","margin-top":"0px",display:"block",color:"#ff8",padding:"0"}},"play all",-1)),_e={for:"shuffle",class:"checkboxLabel",style:{display:"inline-block",margin:"0",padding:"0","margin-left":"50px"}},ts=Ne(()=>Object(a["g"])("span",{class:"checkmark",style:{"margin-left":"-30px","margin-top":"-5px"}},null,-1)),es=Ne(()=>Object(a["g"])("span",{style:{"font-size":".8em","margin-top":"0px",display:"block",color:"#ff8",padding:"0"}},"shuffle",-1)),ss={for:"disco",class:"checkboxLabel",style:{display:"inline-block",margin:"0","margin-left":"24px","padding-left":"32px"}},as=Ne(()=>Object(a["g"])("span",{class:"checkmark",style:{"margin-left":"0px","margin-top":"-5px"}},null,-1)),is=Ne(()=>Object(a["g"])("span",{style:{"font-size":".8em","margin-top":"0px",display:"block",color:"#ff8",padding:"0"}},"disco",-1)),os=Ne(()=>Object(a["g"])("option",{value:"1"},"1",-1)),ls=Ne(()=>Object(a["g"])("option",{value:"2"},"2",-1)),ns=Ne(()=>Object(a["g"])("option",{value:"4"},"4",-1)),rs=Ne(()=>Object(a["g"])("option",{value:"6"},"6",-1)),cs=Ne(()=>Object(a["g"])("option",{value:"10"},"10",-1)),ds=Ne(()=>Object(a["g"])("option",{value:"20"},"20",-1)),hs=Ne(()=>Object(a["g"])("option",{style:{background:"#ff0",color:"#000"},value:"30"},"30",-1)),us=Ne(()=>Object(a["g"])("option",{style:{background:"#f80",color:"#000"},value:"40"},"40",-1)),gs=Ne(()=>Object(a["g"])("option",{style:{background:"#800",color:"#fff"},value:"50"},"50",-1)),ps=[os,ls,ns,rs,cs,ds,hs,us,gs],bs={key:2,class:"maxResultsLabel",style:{color:"#ff8"}},ms={key:1,class:"advancedControls"},fs={for:"disco",style:{"margin-left":"20px"}};function ks(t,e,s,i,o,l){return s.state.showUploadModal?Object(a["e"])("",!0):(Object(a["l"])(),Object(a["f"])("div",{key:0,class:Object(a["j"])(["controls",{shortControlsContainer:!s.state.showControls}])},[Object(a["g"])("div",Le,[Object(a["g"])("div",{onClick:e[0]||(e[0]=(...t)=>s.state.toggleShowControls&&s.state.toggleShowControls(...t)),title:"show additional controls [ESC]",class:Object(a["j"])({showImg:!s.state.showControls,hideImg:s.state.showControls,bump:"track"==s.state.mode}),style:{"margin-top":"-70px"}},null,2),Object(a["i"])(a["b"],{name:"fade"},{default:Object(a["v"])(()=>[s.state.showControls?(Object(a["l"])(),Object(a["f"])("div",Re,[Object(a["g"])("div",Me,["track"!==s.state.mode?(Object(a["l"])(),Object(a["f"])("div",Be,[Ee,Object(a["w"])(Object(a["g"])("input",{id:"searchInput",type:"text",spellcheck:"false",ref:"searchInput","onUpdate:modelValue":e[1]||(e[1]=t=>s.state.search.string=t),onInput:e[2]||(e[2]=t=>s.state.beginSearch(1)),placeholder:"search",class:"textInput searchInput",style:{display:"inline-block",float:"left","margin-bottom":"25px","margin-left":"75px","margin-top":"15px",position:"relative!important: z-index:10000!important"}},null,544),[[a["u"],s.state.search.string]]),Object(a["g"])("label",Ve,[Object(a["w"])(Object(a["g"])("input",{type:"checkbox",disabled:s.state.search.exact,checked:s.state.search.allWords||s.state.search.exact,id:"allWords","onUpdate:modelValue":e[3]||(e[3]=t=>s.state.search.allWords=t),onInput:e[4]||(e[4]=t=>s.state.beginSearch(1))},null,40,Fe),[[a["s"],s.state.search.allWords]]),He,ze]),We,Object(a["g"])("label",qe,[Object(a["w"])(Object(a["g"])("input",{type:"checkbox",id:"exact","onUpdate:modelValue":e[5]||(e[5]=t=>s.state.search.exact=t),onInput:e[6]||(e[6]=t=>s.state.beginSearch(1))},null,544),[[a["s"],s.state.search.exact]]),Je,Ke]),Ge,s.state.search.hits?(Object(a["l"])(),Object(a["f"])("div",Xe," ("+Object(a["r"])(s.state.search.hits)+" hits) ",1)):Object(a["e"])("",!0),Object(a["g"])("label",$e,[Object(a["w"])(Object(a["g"])("input",{type:"checkbox",id:"playall","onUpdate:modelValue":e[7]||(e[7]=t=>s.state.playall=t),onInput:e[8]||(e[8]=t=>l.updateUserPrefs("audiocloudPlayAll"))},null,544),[[a["s"],s.state.playall]]),Ye,Ze]),Object(a["g"])("label",_e,[Object(a["w"])(Object(a["g"])("input",{type:"checkbox",id:"shuffle","onUpdate:modelValue":e[9]||(e[9]=t=>s.state.shuffle=t),onInput:e[10]||(e[10]=t=>l.updateUserPrefs("audiocloudShuffle"))},null,544),[[a["s"],s.state.shuffle]]),ts,es]),Object(a["g"])("label",ss,[Object(a["w"])(Object(a["g"])("input",{type:"checkbox",id:"disco","onUpdate:modelValue":e[11]||(e[11]=t=>s.state.disco=t),onInput:e[12]||(e[12]=t=>l.updateUserPrefs("audiocloudDisco"))},null,544),[[a["s"],s.state.disco]]),as,is]),s.state.loggedin&&"track"!=s.state.mode?Object(a["w"])((Object(a["l"])(),Object(a["f"])("select",{key:1,style:{"font-size":"18px","margin-left":"20px","vertical-align":"top","margin-top":"-4px",border:"1px solid #8ff4",display:"inline-block",position:"relative"},"onUpdate:modelValue":e[13]||(e[13]=t=>s.state.maxResultsPerPage=t),onChange:e[14]||(e[14]=t=>l.updateUserPrefs("audiocloudNumTracksPerPage"))},ps,544)),[[a["t"],s.state.maxResultsPerPage]]):Object(a["e"])("",!0),s.state.loggedin?(Object(a["l"])(),Object(a["f"])("span",bs,"max results")):Object(a["e"])("",!0),Object(a["g"])("button",{class:"navButton",style:{"margin-left":"10px","font-size":"12px","min-height":"20px",height:"20px",width:"50px","margin-top":"-1px","vertical-align":"top"},title:"hotkeys",onClick:e[15]||(e[15]=t=>l.showHotkeys())},"hotkeys")])):(Object(a["l"])(),Object(a["f"])("div",ms,[Object(a["g"])("label",fs,[Object(a["w"])(Object(a["g"])("input",{id:"disco",onInput:e[16]||(e[16]=t=>l.updateUserPrefs("audiocloudDisco")),type:"checkbox","onUpdate:modelValue":e[17]||(e[17]=t=>s.state.disco=t)},null,544),[[a["s"],s.state.disco]]),Object(a["h"])("disco ")])]))])])):Object(a["e"])("",!0)]),_:1})])],2))}var js={name:"Controls",props:["state"],data(){return{}},methods:{showHotkeys(){alert("hotkeys cheat-sheet...\n\n    [space] : play/pause current track\n    [right-key] : advance to the next song (shuffle applies)\n    [left-key] : restart track if pos > 5%, else prev. track (shuffle applies)\n    [shift+right-key] : advance track by 10s\n    [shift+left-key] : rewind track by 10s\n    [ESC] : show/hide advanced controls section\n    [enter] : jump to current playing track")},updateUserPrefs(t){this.$nextTick(()=>{let e;switch(t){case"audiocloudPlayAll":e=this.state.playall?0:1;break;case"audiocloudShuffle":e=this.state.shuffle?0:1;break;case"audiocloudDisco":e=this.state.disco?0:1;break;case"audiocloudNumTracksPerPage":e=this.state.maxResultsPerPage;break}let s={userName:this.state.loggedinUserName,passhash:this.state.passhash,pref:t,newval:e};fetch(this.state.baseURL+"/updatePrefs.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(t=>t.json()).then(e=>{"audiocloudNumTracksPerPage"==t&&window.location.reload()})})},doReg(){this.state.showRegister=!0,this.state.showLoginPrompt()}},watch:{"state.showControls"(t){t&&this.$nextTick(()=>{this.$refs.searchInput.focus(),this.$refs.searchInput.select()})}},computed:{trackPlaying(){let t=!1;return"undefined"!=typeof this.state.currentTrack&&"function"==typeof this.state.currentTrack&&this.state.currentTrack()&&(t=!!this.state.currentTrack().length),t},totalPages(){switch(this.state.mode){case"u":return+this.state.totalUserPages;case"default":return+this.state.totalPages}},curPage(){switch(this.state.mode){case"u":return+this.state.curUserPage;case"default":return+this.state.curPage}},pagenumber(){let t;switch(this.state.mode){case"u":t="Page "+(this.state.curUserPage+1)+" of "+this.state.totalUserPages;break;case"default":t="Page "+(this.state.curPage+1)+" of "+this.state.totalPages;break}return t}}};s("b77d"),s("9015");const Os=xe()(js,[["render",ks],["__scopeId","data-v-5c6beb75"]]);var ys=Os;const Ds=t=>(Object(a["n"])("data-v-410deec7"),t=t(),Object(a["m"])(),t),ws={class:"header",id:"header"},Qs={key:0,class:"uploadProgressContainer"},Ts=Ds(()=>Object(a["g"])("br",null,null,-1)),Ps={class:"progressBar"},vs={class:"progressBarInnerOutline"},xs=["innerHTML"],Us={class:"uploadModalInner"},Cs=Ds(()=>Object(a["g"])("span",{style:{"font-size":"2em",color:"#888"}},"upload tracks",-1)),As=Ds(()=>Object(a["g"])("br",null,null,-1)),Is=Ds(()=>Object(a["g"])("br",null,null,-1)),Ss=Ds(()=>Object(a["g"])("br",null,null,-1)),Ns=Ds(()=>Object(a["g"])("br",null,null,-1)),Ls=Ds(()=>Object(a["g"])("br",null,null,-1)),Rs=Ds(()=>Object(a["g"])("br",null,null,-1)),Ms=Ds(()=>Object(a["g"])("br",null,null,-1)),Bs=Ds(()=>Object(a["g"])("br",null,null,-1)),Es=Ds(()=>Object(a["g"])("span",{style:{"font-size":"1.4em",color:"#ff0"}},"drop file(s) here...",-1)),Vs=Ds(()=>Object(a["g"])("br",null,null,-1)),Fs=Ds(()=>Object(a["g"])("br",null,null,-1)),Hs=Ds(()=>Object(a["g"])("br",null,null,-1)),zs=Ds(()=>Object(a["g"])("br",null,null,-1)),Ws=Ds(()=>Object(a["g"])("br",null,null,-1)),qs=Ds(()=>Object(a["g"])("br",null,null,-1)),Js={key:2,style:{display:"inline-block",position:"absolute"}},Ks={key:3,style:{display:"inline-block",position:"absolute"}},Gs=["disabled"],Xs=["disabled"],$s=["disabled"],Ys=["disabled"],Zs={class:"workingSpace"},_s={class:"loggedinDiv"},ta={key:0,class:"loggedInTitle"},ea=Ds(()=>Object(a["g"])("span",{style:{color:"#afe","font-size":"16px"}},"Welcome,",-1)),sa=Ds(()=>Object(a["g"])("br",null,null,-1)),aa=["href","innerHTML"],ia=["href"],oa=Ds(()=>Object(a["g"])("div",{class:"appNameText"},[Object(a["g"])("div",{style:{display:"inline-block",transform:"scalex(1.2)","margin-right":"10px"}}," whitehot "),Object(a["g"])("br"),Object(a["g"])("div",{style:{display:"inline-block",transform:"scalex(2.05)","margin-right":"30px"}}," robot "),Object(a["g"])("br"),Object(a["h"])(" audiocloud ")],-1)),la=Ds(()=>Object(a["g"])("div",{class:"clear"},null,-1)),na=[oa,la];function ra(t,e,s,i,o,l){const n=Object(a["p"])("Account");return Object(a["l"])(),Object(a["f"])("div",ws,[o.showUploadProgress?(Object(a["l"])(),Object(a["f"])("div",Qs,[Ts,Object(a["h"])("uploading "+Object(a["r"])(o.filesUploading.length)+" file"+Object(a["r"])(o.filesUploading.length>1?"s":"")+"... ",1),(Object(a["l"])(!0),Object(a["f"])(a["a"],null,Object(a["o"])(o.filesUploading,t=>(Object(a["l"])(),Object(a["f"])("div",Ps,[Object(a["g"])("div",vs,[Object(a["g"])("div",{class:"progressBarInner",style:Object(a["k"])("width:calc("+t.perc+"%)")},null,4)]),Object(a["g"])("span",{class:"progressText",innerHTML:t.trackName+" - "+Math.round(100*t.perc)/100+"%"},null,8,xs)]))),256))])):Object(a["e"])("",!0),s.state.showUploadModal?(Object(a["l"])(),Object(a["f"])("div",{key:1,class:Object(a["j"])(["uploadModal",{dragover:o.dragover}]),onDrop:e[2]||(e[2]=Object(a["y"])((...t)=>l.processDrop&&l.processDrop(...t),["prevent"])),onDragover:e[3]||(e[3]=Object(a["y"])((...t)=>l.dragOverHandler&&l.dragOverHandler(...t),["prevent"])),onDragleave:e[4]||(e[4]=Object(a["y"])((...t)=>l.dragLeaveHandler&&l.dragLeaveHandler(...t),["prevent"]))},[Object(a["g"])("div",Us,[Cs,As,Is,Ss,Object(a["h"])("valid formats"),Ns,Ls,Object(a["h"])(" MP3, OGG, WAV"),Rs,Ms,Bs,Es,Vs,Fs,Object(a["h"])("or"),Hs,zs,Object(a["g"])("button",{onClick:e[0]||(e[0]=t=>l.uploadManual()),style:{background:"#0f0","max-width":"400px"}},"manually select one from your device"),Ws,qs,Object(a["g"])("button",{onClick:e[1]||(e[1]=t=>s.state.showUploadModal=!1),style:{background:"#400",color:"#fee","font-weight":"400"}},"cancel")])],34)):Object(a["e"])("",!0),s.state.loggedin?(Object(a["l"])(),Object(a["f"])("div",Ks,["track"!=s.state.mode?(Object(a["l"])(),Object(a["f"])("button",{key:0,class:Object(a["j"])(["navButton jumpButton",{disabled:!l.trackPlaying}]),onClick:e[6]||(e[6]=t=>s.state.jumpToPlayingTrack()),title:"jump to playing track"},null,2)):Object(a["e"])("",!0),Object(a["g"])("button",{class:Object(a["j"])([{bumpDown:"track"==s.state.mode},"uploadButton"]),onClick:e[7]||(e[7]=t=>l.startUpload())},"upload",2)])):(Object(a["l"])(),Object(a["f"])("div",Js,["track"!=s.state.mode?(Object(a["l"])(),Object(a["f"])("button",{key:0,class:Object(a["j"])(["navButton jumpButton",{disabled:!l.trackPlaying}]),onClick:e[5]||(e[5]=t=>s.state.jumpToPlayingTrack()),title:"jump to playing track [ctrl+y]"},null,2)):Object(a["e"])("",!0)])),(s.state.totalPages>0||s.state.totalUserPages>0)&&"track"!=s.state.mode||s.state.search.string&&s.state.totalPages>1?(Object(a["l"])(),Object(a["f"])("div",{key:4,class:Object(a["j"])(["curPageContainer",{bumpLeft:!s.state.loggedin}])},[Object(a["g"])("button",{class:Object(a["j"])(["navButton",{disabled:l.curPage<1}]),disabled:l.curPage<1,onClick:e[8]||(e[8]=t=>s.state.firstPage())}," << ",10,Gs),Object(a["g"])("button",{class:Object(a["j"])(["navButton",{disabled:l.curPage<1}]),disabled:l.curPage<1,onClick:e[9]||(e[9]=t=>s.state.regressPage())}," < ",10,Xs),Object(a["h"])(" "+Object(a["r"])(l.pagenumber)+" ",1),Object(a["g"])("button",{class:Object(a["j"])(["navButton",{disabled:l.totalPages==l.curPage+1}]),disabled:l.totalPages==l.curPage+1,onClick:e[10]||(e[10]=t=>s.state.advancePage())}," > ",10,$s),Object(a["g"])("button",{class:Object(a["j"])(["navButton",{disabled:l.totalPages==l.curPage+1}]),disabled:l.totalPages==l.curPage+1,onClick:e[11]||(e[11]=t=>s.state.lastPage())}," >> ",10,Ys)],2)):Object(a["e"])("",!0),Object(a["g"])("div",Zs,[Object(a["g"])("div",_s,[s.state.loggedin?(Object(a["l"])(),Object(a["f"])("div",ta,[ea,sa,Object(a["g"])("a",{href:this.state.baseURL+"/?i=/u/"+s.state.loggedinUserName,innerHTML:l.truncate(s.state.loggedinUserName)},null,8,aa)])):Object(a["e"])("",!0),Object(a["i"])(n,{state:s.state},null,8,["state"])]),Object(a["g"])("div",{class:"infoButton",title:"about whitehot robot",onClick:e[12]||(e[12]=t=>l.launchInfoPage())}),Object(a["g"])("a",{href:l.origin,class:"appName"},na,8,ia)])])}const ca={class:"account"},da={key:1,class:"userButtonContainer"};function ha(t,e,s,i,o,l){return Object(a["l"])(),Object(a["f"])("div",ca,[s.state.loggedin?(Object(a["l"])(),Object(a["f"])("div",da,[Object(a["g"])("button",{onClick:e[1]||(e[1]=t=>l.logout()),class:"userbutton"},"logout"),Object(a["g"])("button",{onClick:e[2]||(e[2]=t=>l.showSettings()),class:"userbutton"},"settings")])):(Object(a["l"])(),Object(a["f"])("button",{key:0,onClick:e[0]||(e[0]=t=>l.toggleLogin()),class:"loginButton"},"log in / register "))])}var ua={name:"Account",props:["state"],methods:{showSettings(){this.state.showUserSettings()},logout(){this.state.logout()},toggleLogin(){this.state.loggedin||this.state.showLoginPrompt()}}};s("4e5e");const ga=xe()(ua,[["render",ha]]);var pa=ga,ba={components:{Account:pa},data(){return{dragover:!1,showUploadProgress:!1,filesUploading:[]}},name:"Header",props:["state"],methods:{launchInfoPage(){let t=document.createElement("a");t.setAttribute("href","http://code1.cantelope.org/a/about"),t.setAttribute("target","_blank"),t.style.display="none",document.body.appendChild(t),t.click(),t.parentNode.removeChild(t)},updateUserPrefs(t){this.$nextTick(()=>{let e;switch(t){case"audiocloudPlayAll":e=this.state.playall?0:1;break;case"audiocloudShuffle":e=this.state.shuffle?0:1;break;case"audiocloudDisco":e=this.state.disco?0:1;break;case"audiocloudNumTracksPerPage":e=this.state.maxResultsPerPage;break}let s={userName:this.state.loggedinUserName,passhash:this.state.passhash,pref:t,newval:e};fetch(this.state.baseURL+"/updatePrefs.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(t=>t.json()).then(e=>{"audiocloudNumTracksPerPage"==t&&window.location.reload()})})},startUpload(){this.state.showUploadModal=!0},dragLeaveHandler(){this.dragover=!1},dragOverHandler(){this.dragover=!0},upload(t){t.length&&(this.showUploadProgress=!0,this.filesUploading=Array(t.length).fill().map(t=>({})),console.log(t),Array.from(t).forEach((t,e)=>{t.completed=!1,this.filesUploading[e].perc=0,this.filesUploading[e].trackName=t.name}),Array.from(t).forEach((e,s)=>{if(("audio/mpeg"==e.type||"audio/ogg"==e.type||"audio/wav"==e.type)&&e.size<1e8){let a=new FormData,i=e.name.split(".").filter((t,s)=>s<e.name.split(".").length-1).join(".");a.append("author",this.state.loggedinUserName),a.append("userID",this.state.loggedinUserID),a.append("trackName",i),a.append("userID",this.state.loggedinUserID),a.append("file",e);let o=new XMLHttpRequest;o.open("POST",this.state.baseURL+"/upload.php"),o.upload.addEventListener("progress",t=>{let a=t.loaded/t.total*100;this.filesUploading[s].trackName=e.name,this.filesUploading[s].perc=a}),o.addEventListener("load",s=>{e.completed=!0;let a=!0;Array.from(t).forEach(t=>{t.completed||(a=!1)}),a&&console.log(s)}),o.send(a)}else alert("a file was rejected due to incorrect type or filesize (max filesize = 100MB)"),this.state.showUploadModal=!1,this.showUploadProgress=!1}))},processDrop(t){let e=t.dataTransfer.files;this.upload(e)},truncate(t){if("undefined"!==typeof t)return t.length>16?t.substring(0,2)+"..."+t.substring(t.length-3):t},uploadManual(){let t=document.createElement("input");t.setAttribute("type","file"),t.addEventListener("change",t=>{this.upload(t.path[0].files)}),t.click()}},mounted(){this.curPage>this.totalPages&&this.state.jumpToPage(this.totalPages)},computed:{trackPlaying(){let t=!1;return"undefined"!=typeof this.state.currentTrack&&"function"==typeof this.state.currentTrack&&this.state.currentTrack()&&(t=!!this.state.currentTrack().length),t},totalPages(){switch(this.state.mode){case"u":return+this.state.totalUserPages;case"default":return+this.state.totalPages;case"track":return+this.state.totalPages}},curPage(){switch(this.state.mode){case"u":return+this.state.curUserPage;case"default":return+this.state.curPage;case"track":return+this.state.curPage}},pagenumber(){let t;if(this.state.search.string)t="Page "+(this.state.curPage+1)+" of "+this.state.totalPages;else switch(this.state.mode){case"u":t="Page "+(this.state.curUserPage+1)+" of "+this.state.totalUserPages;break;case"default":t="Page "+(this.state.curPage+1)+" of "+this.state.totalPages;break;case"track":t="Page "+(this.state.curPage+1)+" of "+this.state.totalPages;break}return t},origin(){return window.location.origin+"/e/"}}};s("f3c7");const ma=xe()(ba,[["render",ra],["__scopeId","data-v-410deec7"]]);var fa=ma,ka=s("edbf"),ja=s.n(ka),Oa=s("939c"),ya=s.n(Oa),Da=s("9afb"),wa=s.n(Da);const Qa=t=>(Object(a["n"])("data-v-131d860c"),t=t(),Object(a["m"])(),t),Ta={ref:"footerBar",class:"footerBar",id:"footerBar"},Pa={class:"footerMenu"},va=Qa(()=>Object(a["g"])("img",{src:"http://jsbot.cantelope.org/1Zt7AV.png",class:"socialIcon"},null,-1)),xa=[va],Ua=Qa(()=>Object(a["g"])("img",{src:"http://jsbot.cantelope.org/1gojp0.png",class:"socialIcon"},null,-1)),Ca=[Ua],Aa=Qa(()=>Object(a["g"])("img",{src:ja.a,class:"socialIcon"},null,-1)),Ia=[Aa],Sa=Qa(()=>Object(a["g"])("img",{src:ya.a,class:"socialIcon"},null,-1)),Na=[Sa],La=Qa(()=>Object(a["g"])("img",{src:"http://jsbot.cantelope.org/1oHzZO.png",class:"socialIcon"},null,-1)),Ra=[La],Ma=Qa(()=>Object(a["g"])("img",{src:"http://jsbot.cantelope.org/cdR9g.png",class:"socialIcon"},null,-1)),Ba=[Ma],Ea=Qa(()=>Object(a["g"])("img",{src:wa.a,class:"socialIcon"},null,-1)),Va=[Ea];function Fa(t,e,s,i,o,l){return Object(a["l"])(),Object(a["f"])("div",Ta,[Object(a["g"])("div",Pa,[Object(a["g"])("button",{onClick:e[0]||(e[0]=t=>l.launchPage("http://code.cantelope.org")),class:"socialButton",title:"demos / code  http://code.cantelope.org"},xa),Object(a["g"])("button",{onClick:e[1]||(e[1]=t=>l.launchPage("http://messaging.cantelope.org")),class:"socialButton",title:"RobotNet Messaging http://messaging.cantelope.org"},Ca),Object(a["g"])("button",{onClick:e[2]||(e[2]=t=>l.launchPage("http://hosting.cantelope.org")),class:"socialButton",title:"static page hosting http://hosting.cantelope.org"},Ia),Object(a["g"])("button",{onClick:e[3]||(e[3]=t=>l.launchPage("http://games.cantelope.org")),class:"socialButton",title:"community browser games http://games.cantelope.org"},Na),Object(a["g"])("button",{onClick:e[4]||(e[4]=t=>l.launchPage("http://words.cantelope.org")),class:"socialButton",title:"blog / literature http://words.cantelope.org"},Ra),Object(a["g"])("button",{onClick:e[5]||(e[5]=t=>l.launchPage("http://cantelope.org")),class:"socialButton",title:"music videos / playlists http://cantelope.org"},Ba),Object(a["g"])("button",{onClick:e[6]||(e[6]=t=>l.launchEmail()),class:"socialButton",title:"whitehot robot email"},Va),"embed"==s.state.mode?(Object(a["l"])(),Object(a["f"])("div",{key:0,class:"socialButton infoButton",title:"about whitehot robot",onClick:e[7]||(e[7]=t=>l.launchInfoPage())})):Object(a["e"])("",!0)])],512)}var Ha={name:"Footer",props:["state"],data(){return{}},methods:{launchInfoPage(){let t=document.createElement("a");t.setAttribute("href","http://code1.cantelope.org/a/about"),t.setAttribute("target","_blank"),t.style.display="none",document.body.appendChild(t),t.click(),t.parentNode.removeChild(t)},launchEmail(){location.href="http://email.whitehotrobot.com"},launchPage(t){window.open(t,"_blank")},launchAdmin(){window.open("http://whitehotrobot.com/admin/","_blank")}}};s("5d43");const za=xe()(Ha,[["render",Fa],["__scopeId","data-v-131d860c"]]);var Wa=za;const qa={class:"LoginPrompt"},Ja={class:"mainLoginContainer"},Ka={key:0},Ga=Object(a["g"])("span",{class:"title"},"login",-1),Xa=Object(a["g"])("br",null,null,-1),$a={class:"inputContainer"},Ya=Object(a["g"])("div",{class:"inputTitle"},"User Name",-1),Za=Object(a["g"])("br",null,null,-1),_a={class:"inputContainer"},ti=Object(a["g"])("div",{class:"inputTitle"},"Password",-1),ei=Object(a["g"])("br",null,null,-1),si={key:0,class:"invalidLogin"},ai=Object(a["g"])("div",{class:"spacerDiv",style:{"margin-top":"30px"}},null,-1),ii={key:1},oi=Object(a["g"])("div",{class:"spacerDiv",style:{"margin-top":"20px"}},null,-1),li=Object(a["g"])("br",null,null,-1),ni={key:0,class:"mustRegister"},ri=Object(a["g"])("br",null,null,-1),ci=Object(a["g"])("br",null,null,-1),di=Object(a["g"])("span",{class:"title"},"register",-1),hi=Object(a["g"])("br",null,null,-1),ui={class:"inputContainer"},gi={class:"inputTitle"},pi={key:0,style:{display:"inline-block",color:"#f00"}},bi=Object(a["g"])("i",null,"user name unavailable",-1),mi={key:1,style:{display:"inline-block",color:"#0f4"}},fi=Object(a["g"])("i",null,"user name available",-1),ki=Object(a["g"])("br",null,null,-1),ji={class:"inputContainer"},Oi={class:"inputTitle"},yi={key:0,style:{display:"inline-block",color:"#f00"}},Di={key:1,style:{display:"inline-block",color:"#0f4"}},wi=Object(a["g"])("i",null,"passwords match!",-1),Qi=Object(a["g"])("br",null,null,-1),Ti={class:"inputContainer"},Pi=Object(a["g"])("div",{class:"inputTitle"},"Confirm Password",-1),vi=Object(a["g"])("br",null,null,-1),xi=["disabled"],Ui={key:1,class:"invalidLogin"},Ci={style:{position:"absolute","z-index":"-1",opacity:"0"},ref:"bottomTabAnchor",type:"text",class:"textInput"};function Ai(t,e,s,i,o,l){return Object(a["l"])(),Object(a["f"])("div",qa,[Object(a["g"])("div",Ja,[s.state.showRegister?(Object(a["l"])(),Object(a["f"])("div",ii,[oi,Object(a["g"])("button",{class:"toggleButton",onClick:e[11]||(e[11]=t=>l.toggleView())}," ↑   login   ↑ "),li,s.state.displayLoginRequired?(Object(a["l"])(),Object(a["f"])("div",ni,[Object(a["h"])(" You must register or"),ri,Object(a["h"])(" log-in to create a demo!"),ci])):Object(a["e"])("",!0),di,hi,Object(a["g"])("div",ui,[Object(a["g"])("div",gi,[Object(a["h"])(" User Name "),o.userNameAvailable?Object(a["e"])("",!0):(Object(a["l"])(),Object(a["f"])("div",pi,[Object(a["h"])("     "),bi])),o.userNameAvailable&&s.state.regusername?(Object(a["l"])(),Object(a["f"])("div",mi,[Object(a["h"])("     "),fi])):Object(a["e"])("",!0)]),Object(a["g"])("input",{style:{position:"absolute","z-index":"-1",opacity:"0"},ref:"loginTabAnchor",type:"text",class:"textInput",onKeydown:[e[12]||(e[12]=Object(a["x"])(t=>l.submit(),["enter"])),e[13]||(e[13]=Object(a["x"])(Object(a["y"])(e=>t.$refs.bottomTabAnchor.focus(),["shift"]),["tab"]))]},null,544),Object(a["w"])(Object(a["g"])("input",{type:"text",ref:"regusername","onUpdate:modelValue":e[14]||(e[14]=t=>s.state.regusername=t),class:Object(a["j"])(["input textInput",{userNameUnavailable:!o.userNameAvailable,userNameAvailable:o.userNameAvailable&&s.state.regusername}]),maxlength:"16",onInput:e[15]||(e[15]=t=>l.checkUserNameAvailability()),onKeydown:[e[16]||(e[16]=Object(a["x"])(t=>l.submit(),["enter"])),e[17]||(e[17]=Object(a["x"])(Object(a["y"])(e=>t.$refs.bottomTabAnchor.focus(),["shift"]),["tab"]))]},null,34),[[a["u"],s.state.regusername]]),ki]),Object(a["g"])("div",ji,[Object(a["g"])("div",Oi,[Object(a["h"])(" Password "),!l.passwordsMatch&&s.state.regpassword&&s.state.confirmpassword?(Object(a["l"])(),Object(a["f"])("div",yi,"     passwords do not match ")):Object(a["e"])("",!0),l.passwordsMatch&&s.state.regpassword&&s.state.confirmpassword?(Object(a["l"])(),Object(a["f"])("div",Di,[Object(a["h"])("     "),wi])):Object(a["e"])("",!0)]),Object(a["w"])(Object(a["g"])("input",{type:"password",ref:"regpassword","onUpdate:modelValue":e[18]||(e[18]=t=>s.state.regpassword=t),class:Object(a["j"])(["input",{passwordsDoNotMatch:!l.passwordsMatch&&s.state.regpassword&&s.state.confirmpassword,passwordsMatch:l.passwordsMatch&&s.state.regpassword&&s.state.confirmpassword}]),onKeydown:e[19]||(e[19]=Object(a["x"])(t=>l.submit(),["enter"]))},null,34),[[a["u"],s.state.regpassword]]),Qi]),Object(a["g"])("div",Ti,[Pi,Object(a["w"])(Object(a["g"])("input",{type:"password",ref:"confirmpassword","onUpdate:modelValue":e[20]||(e[20]=t=>s.state.confirmpassword=t),class:Object(a["j"])(["input",{passwordsDoNotMatch:!l.passwordsMatch&&s.state.regpassword&&s.state.confirmpassword,passwordsMatch:l.passwordsMatch&&s.state.regpassword&&s.state.confirmpassword}]),onKeydown:e[21]||(e[21]=Object(a["x"])(t=>l.submit(),["enter"]))},null,34),[[a["u"],s.state.confirmpassword]]),vi]),Object(a["g"])("button",{onClick:e[22]||(e[22]=t=>l.submit()),disabled:!l.validate,class:Object(a["j"])({disabledButton:!l.validate})},"submit",10,xi),Object(a["g"])("button",{onClick:e[23]||(e[23]=t=>l.closePrompt()),onKeydown:[e[24]||(e[24]=Object(a["x"])(e=>t.$refs.loginTabAnchor.focus(),["tab"])),e[25]||(e[25]=Object(a["x"])(Object(a["y"])(e=>t.$refs.cancelButton.focus(),["shift"]),["tab"]))],ref:"cancelButton",style:{background:"#faa"}},"cancel",544),o.showInvalid?(Object(a["l"])(),Object(a["f"])("div",Ui," Whoa! check your info... ")):Object(a["e"])("",!0),Object(a["g"])("input",Ci,null,512)])):(Object(a["l"])(),Object(a["f"])("div",Ka,[Ga,Xa,Object(a["g"])("div",$a,[Ya,Object(a["g"])("input",{style:{position:"absolute","z-index":"-1",opacity:"0"},ref:"loginTabAnchor",onKeydown:e[0]||(e[0]=Object(a["x"])(Object(a["y"])(e=>t.$refs.bottomTabAnchor.focus(),["shift"]),["tab"])),type:"text",class:"textInput"},null,544),Object(a["w"])(Object(a["g"])("input",{type:"text",ref:"username","onUpdate:modelValue":e[1]||(e[1]=t=>s.state.username=t),class:"input textInput",onKeydown:[e[2]||(e[2]=Object(a["x"])(t=>s.state.login(),["enter"])),e[3]||(e[3]=Object(a["x"])(Object(a["y"])(e=>t.$refs.bottomTabAnchor.focus(),["shift"]),["tab"]))]},null,544),[[a["u"],s.state.username]]),Za]),Object(a["g"])("div",_a,[ti,Object(a["w"])(Object(a["g"])("input",{type:"password",ref:"password","onUpdate:modelValue":e[4]||(e[4]=t=>s.state.password=t),class:"input",onKeydown:e[5]||(e[5]=Object(a["x"])(t=>s.state.login(),["enter"]))},null,544),[[a["u"],s.state.password]]),ei]),Object(a["g"])("button",{onClick:e[6]||(e[6]=t=>s.state.login()),ref:"go"},"Go",512),Object(a["g"])("button",{onClick:e[7]||(e[7]=t=>l.closePrompt()),onKeydown:[e[8]||(e[8]=Object(a["x"])(e=>t.$refs.loginTabAnchor.focus(),["tab"])),e[9]||(e[9]=Object(a["x"])(Object(a["y"])(e=>t.$refs.cancelButton.focus(),["shift"]),["tab"]))],style:{background:"#faa"},ref:"cancelButton"},"cancel",544),s.state.invalidLoginAttempt?(Object(a["l"])(),Object(a["f"])("div",si," Invalid User Name or Password ")):Object(a["e"])("",!0),ai,Object(a["g"])("button",{class:"toggleButton",onClick:e[10]||(e[10]=t=>l.toggleView()),ref:"bottomTabAnchor"}," ↓   register   ↓ ",512)]))])])}var Ii={name:"Account",props:["state"],data(){return{userNameAvailable:!0,showInvalid:!1}},computed:{passwordsMatch(){return this.state.regpassword===this.state.confirmpassword},validate(){return this.state.regusername&&this.state.regpassword&&this.passwordsMatch&&this.userNameAvailable}},methods:{submit(){if(this.validate){let t={userName:this.state.regusername,password:this.state.regpassword};fetch(this.state.baseURL+"/submitReg.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>t.json()).then(t=>{t[0]?(this.state.loggedin=!0,this.state.loggedinUserName=this.state.regusername,this.state.passhash=t[1],this.state.loggedinUserID=t[2],this.state.closePrompts(),this.state.setCookie(),this.state.userInfo[this.state.loggedinUserID]={},this.state.userInfo[this.state.loggedinUserID].name=this.state.regusername,this.state.userInfo[this.state.loggedinUserID].avatar=this.state.getAvatar(this.state.loggedinUserID),this.state.checkEnabled()):this.showInvalid=!0})}else this.showInvalid=!0},toggleView(){this.state.showRegister=!this.state.showRegister,this.$nextTick(()=>{this.state.showRegister?this.$refs.regusername.focus():this.$refs.username.focus()})},toggleLogin(){this.state.loggedin||this.state.showLoginPrompt()},closePrompt(){this.state.closePrompts()},checkUserNameAvailability(){if(this.userNameAvailable=!0,this.state.regusername){let t={userName:this.state.regusername};fetch(this.state.baseURL+"/checkUserNameAvailability.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>t.json()).then(t=>{this.userNameAvailable=t})}}},mounted(){this.state.confirmpassword="",this.state.showRegister?this.$refs.regusername.focus():this.$refs.username.focus()}};s("377d");const Si=xe()(Ii,[["render",Ai]]);var Ni=Si;const Li={class:"UserSettings"},Ri={class:"mainContainer"},Mi={style:{"font-size":"28px","line-height":"1em","font-weight":"900"}},Bi=Object(a["g"])("br",null,null,-1),Ei=Object(a["g"])("span",{style:{color:"#aff","font-size":"36px","font-weight":"400"}},"settings",-1),Vi=Object(a["g"])("div",{class:"spacerDiv"},null,-1),Fi=Object(a["g"])("br",null,null,-1),Hi={class:"editAvatarImgContainer"},zi=["src"],Wi=Object(a["g"])("br",null,null,-1),qi={key:0,style:{color:"#4f8","font-size":"18px",background:"#055",padding:"4px","margin-top":"10px","padding-bottom":"8px"}},Ji={key:1,style:{color:"#f44","font-size":"18px",background:"#500",padding:"4px","margin-top":"10px","padding-bottom":"8px"}},Ki=Object(a["g"])("div",{class:"spacerDiv",style:{"margin-top":"20px"}},null,-1),Gi=Object(a["g"])("br",null,null,-1),Xi=Object(a["g"])("br",null,null,-1),$i=Object(a["g"])("br",null,null,-1),Yi=Object(a["g"])("br",null,null,-1),Zi={key:2,style:{color:"#4f8","font-size":"24px",background:"#055",padding:"4px","margin-top":"10px","padding-bottom":"8px"}},_i={key:3,style:{color:"#f44","font-size":"20px",background:"#400",padding:"4px","margin-top":"10px","padding-bottom":"8px"}},to={key:4,style:{color:"#f00","font-size":"20px"}},eo={key:5,style:{color:"#0f4"}},so=Object(a["g"])("i",null,"passwords match!",-1),ao=["disabled"],io=Object(a["g"])("div",{class:"spacerDiv"},null,-1);function oo(t,e,s,i,o,l){return Object(a["l"])(),Object(a["f"])("div",Li,[Object(a["g"])("div",Ri,[Object(a["g"])("span",Mi,[Object(a["h"])(Object(a["r"])(s.state.loggedinUserName)+" ",1),Bi,Ei]),Vi,Object(a["h"])(" your avatar"),Fi,Object(a["g"])("div",Hi,[Object(a["g"])("img",{src:s.state.getAvatar(s.state.loggedinUserID),class:"editAvatarImg"},null,8,zi)]),Object(a["g"])("input",{style:{opacity:"0",position:"absolute","z-index":"-1"},ref:"tabAnchor",onKeydown:e[0]||(e[0]=Object(a["x"])(Object(a["y"])(e=>t.$refs.cancelButton.focus(),["shift"]),["tab"]))},null,544),Object(a["w"])(Object(a["g"])("input",{type:"text",ref:"avatarURL","onUpdate:modelValue":e[1]||(e[1]=t=>s.state.userInfo[s.state.loggedinUserID].avatar=t),class:"input avatarInput",onInput:e[2]||(e[2]=t=>l.updateAvatar()),onClick:e[3]||(e[3]=t=>t.target.select()),placeholder:"URL to an online image..."},null,544),[[a["u"],s.state.userInfo[s.state.loggedinUserID].avatar]]),Wi,1==o.avatarUpdateSuccessful?(Object(a["l"])(),Object(a["f"])("div",qi,"     avatar update successful ")):Object(a["e"])("",!0),-1==o.avatarUpdateSuccessful?(Object(a["l"])(),Object(a["f"])("div",Ji,"     avatar update NOT successful ")):Object(a["e"])("",!0),Ki,Object(a["h"])(" change your password"),Gi,Object(a["w"])(Object(a["g"])("input",{type:"password",ref:"currentpassword",class:"input passwordFields","onUpdate:modelValue":e[4]||(e[4]=t=>o.currentPassword=t),onKeydown:e[5]||(e[5]=Object(a["x"])(t=>l.savePassword(),["enter"])),onClick:e[6]||(e[6]=t=>t.target.select()),onInput:e[7]||(e[7]=t=>o.showInvalid=!1),placeholder:"current password"},null,544),[[a["u"],o.currentPassword]]),Xi,Object(a["w"])(Object(a["g"])("input",{type:"password",ref:"newpassword",class:Object(a["j"])(["input passwordFields",{passwordsDoNotMatch:!l.passwordsMatch&&o.newPassword&&o.confirmNewPassword,passwordsMatch:l.passwordsMatch&&o.newPassword&&o.confirmNewPassword}]),"onUpdate:modelValue":e[8]||(e[8]=t=>o.newPassword=t),onKeydown:e[9]||(e[9]=Object(a["x"])(t=>l.savePassword(),["enter"])),onInput:e[10]||(e[10]=t=>o.showInvalid=!1),onClick:e[11]||(e[11]=t=>t.target.select()),placeholder:"new password"},null,34),[[a["u"],o.newPassword]]),$i,Object(a["w"])(Object(a["g"])("input",{type:"password",ref:"confirmnewpassword","onUpdate:modelValue":e[12]||(e[12]=t=>o.confirmNewPassword=t),onInput:e[13]||(e[13]=t=>o.showInvalid=!1),class:Object(a["j"])(["input passwordFields",{passwordsDoNotMatch:!l.passwordsMatch&&o.newPassword&&o.confirmNewPassword,passwordsMatch:l.passwordsMatch&&o.newPassword&&o.confirmNewPassword}]),onClick:e[14]||(e[14]=t=>t.target.select()),onKeydown:e[15]||(e[15]=Object(a["x"])(t=>l.savePassword(),["enter"])),placeholder:"confirm new password"},null,34),[[a["u"],o.confirmNewPassword]]),Yi,o.savedPassword?(Object(a["l"])(),Object(a["f"])("div",Zi,"     password saved ")):Object(a["e"])("",!0),o.showInvalid?(Object(a["l"])(),Object(a["f"])("div",_i,"     ERROR SAVING PASSWORD! ")):Object(a["e"])("",!0),o.savedPassword||o.showInvalid||l.passwordsMatch||!o.newPassword||!o.confirmNewPassword?Object(a["e"])("",!0):(Object(a["l"])(),Object(a["f"])("div",to,"     passwords do not match ")),!o.savedPassword&&!o.showInvalid&&l.passwordsMatch&&o.newPassword&&o.confirmNewPassword?(Object(a["l"])(),Object(a["f"])("div",eo,[Object(a["h"])("     "),so])):Object(a["e"])("",!0),Object(a["g"])("button",{onClick:e[16]||(e[16]=t=>l.savePassword()),ref:"cancelButton",disabled:!l.validate,class:Object(a["j"])({disabledButton:!l.validate})},"save",10,ao),io,Object(a["g"])("button",{onClick:e[17]||(e[17]=t=>l.closePrompt()),onKeydown:[e[18]||(e[18]=Object(a["x"])(e=>t.$refs.tabAnchor.focus(),["tab"])),e[19]||(e[19]=Object(a["x"])(Object(a["y"])(e=>t.$refs.cancelButton.focus(),["shift"]),["tab"]))],ref:"cancelButton",style:{background:"#faa"}},"close / cancel",544),Object(a["g"])("input",{style:{opacity:"0",position:"absolute","z-index":"-1"},ref:"endTabAnchor",onKeydown:e[20]||(e[20]=Object(a["x"])(Object(a["y"])(e=>t.$refs.confirmnewassword.focus(),["shift"]),["tab"]))},null,544)])])}var lo={name:"UserSettings",props:["state"],data(){return{newPassword:"",confirmNewPassword:"",currentPassword:"",savedPassword:!1,showInvalid:!1,avatarUpdateSuccessful:0}},computed:{passwordsMatch(){return this.newPassword===this.confirmNewPassword},validate(){return this.passwordsMatch&&this.newPassword&&this.confirmNewPassword&&this.currentPassword}},methods:{savePassword(){if(this.validate){let t={userName:this.state.loggedinUserName,currentPassword:this.currentPassword,newPassword:this.newPassword};fetch(this.state.baseURL+"/changePassword.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>t.json()).then(t=>{t[0]?(this.state.passhash=t[1],this.savedPassword=!0,this.currentPassword=this.newPassword=this.confirmNewPassword="",this.state.setCookie()):this.showInvalid=!0})}else this.savedPassword=!1,this.showInvalid=!0},closePrompt(){this.state.closePrompts()},updateAvatar(){let t={userName:this.state.loggedinUserName,passhash:this.state.passhash,newAvatar:this.state.userInfo[this.state.loggedinUserID].avatar};fetch(this.state.baseURL+"/updateAvatar.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>t.json()).then(t=>{t[0]?(this.avatarUpdateSuccessful=1,this.state.user.avatar=this.state.userInfo[this.state.loggedinUserID].avatar,setTimeout(()=>this.avatarUpdateSuccessful=0,2e3)):(this.avatarUpdateSuccssful=-1,setTimeout(()=>this.avatarUpdateSuccessful=0,2e3))})}},mounted(){this.$refs.currentpassword.focus()}};s("dda3");const no=xe()(lo,[["render",oo]]);var ro=no,co={name:"App",data(){return{state:{baseURL:"http://x.cantelope.org/e",baseDemoURL:"http://code.dweet.net",baseVideoURL:"http://dweet.net",baseDomain:"x.cantelope.org",baseUserDomain:"x.cantelope.org",rootDomain:"cantelope.org",maxCommentsBeforeExpansion:3,curPage:0,curPlayId:0,playPauseCurrentTrack:null,jumpToPlayingTrack:null,beginSearch:null,curTrack:null,curSearchPage:0,jumpToPage:null,playall:!1,userAgent:null,shuffle:!1,disco:!1,userData:[],preloadImages:[],curUserPage:null,incrementViews:null,loggedinUserName:"",exactClicked:!1,search:{string:"",audiocloudTracks:[],hits:0,inProgress:!1,timer:0,timerHandle:null,exact:!1,allWords:!0},showControlsToggleTimer:0,loggedin:!1,totalUserPages:0,totalPages:0,playPreviousTrack:null,playNextTrack:null,showUploadModal:!1,currentTrack:null,toggleLogin:null,maxResultsPerPage:0,showLoginPrompt:null,globalT:0,showControls:!1,toggleShowControls:null,closePrompts:null,loginPromptVisible:!1,isAdmin:!1,checkEnabled:null,loggedinuser:"",inView:[],loaded:!1,user:null,fetchUserData:null,startStopPages:!1,pauseVisible:null,username:"",password:"",passhash:"",userInfo:[],tracks:[],regusername:"",advancePage:null,regressPage:null,filteredUserTracks:null,firstPage:null,lastPage:null,regpassword:"",preload:2,decToAlpha:null,alphaToDec:null,showRegister:!1,showUserSettings:null,userSettingsVisible:!1,openFullscreen:null,getAvatar:null,landingPage:{audiocloudTracks:[]},mode:"",defaultAvatar:"http://jsbot.cantelope.org/1pnBdc.png"}}},components:{Main:Se,Controls:ys,Header:fa,Footer:Wa,UserSettings:ro,LoginPrompt:Ni},methods:{toggleShowControls(){let t=document.cookie;t.split(";").map(t=>{-1!=t.indexOf("showControls")&&(document.cookie=t+"; expires="+new Date(0).toUTCString()+"; path=/")}),this.state.showControls=!this.state.showControls,document.cookie="showControls="+this.state.showControls+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain},pauseVisible(){if(this.state.search.string)this.state.search.audiocloudTracks.map(t=>t.playing=!1);else switch(this.state.mode){case"u":this.state.user.audiocloudTracks.map(t=>t.playing=!1);break;case"track":this.state.tracks.map(t=>t.playing=!1);break;case"embed":this.state.tracks.map(t=>t.playing=!1);break;case"default":this.state.landingPage.audiocloudTracks.map(t=>t.playing=!1);break}},openFullscreen(t){t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},decToAlpha(t){let e,s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",a="";while(t)a=s[0|Math.round(62*(t/62-(e=t/62|0)))]+a,t=e;return""==a?"0":a},alphaToDec(t){let e,s,a=0,i=0;while(""!=t)e=t[t.length-1],t=t.substring(0,t.length-1),s=e.charCodeAt(0)<58?e:e.charCodeAt(0)-(e.charCodeAt(0)>96?87:29),i+=s*62**a,a++;return i},fetchUserData(t){if("undefined"==typeof this.state.userData[t]){let e={userID:t,page:this.state.curUserPage,maxResultsPerPage:this.state.maxResultsPerPage};fetch(this.state.baseURL+"/fetchUserData.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(t=>t.json()).then(e=>{e&&(this.state.userData[t]=e[0],this.state.userInfo[t]={},this.state.userInfo[t].name=e[0].name,this.state.userInfo[t].avatar=e[0].avatar,this.state.userInfo[t].isAdmin=e[0].isAdmin)})}},loadLandingPage(){let t={page:this.state.curPage,maxResultsPerPage:this.state.maxResultsPerPage};fetch(this.state.baseURL+"/getRecentTracks.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>t.json()).then(t=>{t[0].map(t=>{t.playing=!1,t.private=!!+t.private,t.allowDownload=!!+t.allowDownload,this.incrementViews(t.id),this.loadUserData(t.author),t.comments=t.comments.map(t=>(t.updated=!1,t.editing=!1,this.fetchUserData(t.userID),t))}),this.state.landingPage.audiocloudTracks=t[0],this.state.totalPages=t[1],this.state.curPage+1>this.state.totalPages&&this.lastPage(),this.state.loaded=!0,this.state.playall&&this.playNextTrack()})},loadUserData(t){let e={name:decodeURIComponent(t),loggedinUserName:this.state.loggedinUserName,passhash:this.state.passhash,maxResultsPerPage:this.state.maxResultsPerPage,page:this.state.curUserPage};fetch(this.state.baseURL+"/fetchUserDataByName.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(t=>t.json()).then(t=>{null!=this.state.user&&"undefined"!=typeof this.state.user.audiocloudTracks&&this.state.user.audiocloudTracks.length?t[0].audiocloudTracks=this.state.user.audiocloudTracks:t[0].audiocloudTracks.map(t=>{"default"!=this.state.mode&&this.incrementViews(t.id),t.playing=!1,t.private=!!+t.private,t.allowDownload=!!+t.allowDownload,t.comments=t.comments.map(t=>(t.updated=!1,t.editing=!1,this.fetchUserData(t.userID),t))}),this.state.totalUserPages=t[1],this.state.curUserPage+1>this.state.totalUserPages&&this.lastPage(),this.state.user=t[0],this.state.userInfo[this.state.user.id]={},this.state.userInfo[this.state.user.id].name=this.state.user.name,this.state.userInfo[this.state.user.id].avatar=this.state.user.avatar,this.state.userInfo[this.state.user.id].isAdmin=this.state.user.isAdmin,this.state.refreshAvatar=!0,this.state.loaded=!0,this.state.playall&&""==this.state.search.string&&"u"==this.state.mode&&this.playNextTrack()})},loadTrack(t){this.state.curTrack=t;let e={userName:this.state.loggedinUserName,passhash:this.state.passhash,trackID:t};fetch(this.state.baseURL+"/fetchTrack.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(t=>t.json()).then(t=>{t?(t.private=!!+t.private,this.fetchUserData(t.userID),t.comments=t.comments.map(t=>(t.updated=!1,t.editing=!1,this.fetchUserData(t.userID),t)),t.allowDownload=!!+t.allowDownload,this.incrementViews(t.id),this.state.tracks=[t]):this.state.tracks=[],this.state.loaded=!0})},getQueryVar(t,e){for(var s=window.location.search.substring(1),a=s.split("&"),i=0;i<a.length;i++){var o=a[i].split("=");if(o[0]==e)return o[1]}return!1},goHome(){window.location.href=window.location.origin+"/e/"},getAvatar(t){return"undefined"!=typeof this.state.userInfo[t]&&this.state.userInfo[t].avatar?(this.state.userInfo[t].avatar=this.state.userInfo[t].avatar.replace(" ",""),this.state.userInfo[t].avatar):this.state.defaultAvatar},closePrompts(){this.state.loginPromptVisible=!1,this.state.userSettingsVisible=!1,this.state.showRegister=!1,this.state.displayLoginRequired=!1,document.getElementsByTagName("HTML")[0].style.overflowY="visible"},showUserSettings(){document.getElementsByTagName("HTML")[0].style.overflowY="hidden",this.state.userSettingsVisible=!0},showLoginPrompt(){document.getElementsByTagName("HTML")[0].style.overflowY="hidden",this.state.username=this.state.password=this.state.regusername=this.state.regpassword="",this.state.invalidLoginAttempt=!1,this.state.loginPromptVisible=!0},toggleLogin(){this.state.loggedin=!this.state.loggedin},setCookie(){let t=document.cookie;t.split(";").map(t=>{-1==t.indexOf("autoplay")&&(document.cookie=t+"; expires="+new Date(0).toUTCString()+"; path=/")}),document.cookie="loggedinuser="+this.state.loggedinUserName+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="loggedinuserID="+this.state.loggedinUserID+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="token="+this.state.passhash+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="autoplay="+this.state.playall+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="shuffle="+this.state.shuffle+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="showControls="+this.state.showControls+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="exactSearch="+this.state.search.exact+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="allWords="+this.state.search.allWords+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain},checkEnabled(){if(this.state.loggedinUserName){let t={userName:this.state.loggedinUserName,passhash:this.state.passhash};fetch(this.state.baseURL+"/checkEnabled.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>t.json()).then(t=>{+t[0]?(this.state.loggedin=!0,this.state.loggedinUserID=+t[1],this.state.fetchUserData(this.state.loggedinUserID),this.setCookie(),this.state.loginPromptVisible=!1,this.state.invalidLoginAttemp=!1,this.state.userInfo[this.state.loggedinUserID]={},this.state.userInfo[this.state.loggedinUserID].name=this.state.regusername||this.state.loggedinUserName,this.state.userInfo[this.state.loggedinUserID].avatar=t[2],this.state.userInfo[this.state.loggedinUserID].isAdmin=+t[3],+t[3]&&(this.state.isAdmin=!0),this.state.maxResultsPerPage=+t[4],this.state.playall=!!+t[5],this.state.shuffle=!!+t[6],this.state.disco=!!+t[7]):(this.state.loggedin=!1,this.state.loggedinUserName="",this.state.loggedinUserID="",this.state.passhash="",this.state.isAdmin=!1,this.state.invalidLoginAttempt=!0),this.getMode(),"embed"==this.state.mode&&(this.state.loggedinUserName="",this.state.loggedin=!1,this.state.isAdmin=!1)})}},checkAutoplayPref(){let t=document.cookie.split(";").filter(t=>"autoplay"===t.split("=")[0].trim());t.length&&(this.state.playall="true"==t[0].split("=")[1]),t=document.cookie.split(";").filter(t=>"shuffle"===t.split("=")[0].trim()),t.length&&(this.state.shuffle="true"==t[0].split("=")[1])},checkExactSearchPref(){let t=document.cookie.split(";").filter(t=>"exactSearch"===t.split("=")[0].trim());t.length&&(this.state.search.exact="true"==t[0].split("=")[1]),t=document.cookie.split(";").filter(t=>"allWords"===t.split("=")[0].trim()),t.length&&(this.state.search.allWords="true"==t[0].split("=")[1])},getMode(){let t=[];if(-1!=window.location.href.indexOf("?i=")&&(t=window.location.href.split("?i=")[1].split("/")),t=t.filter(t=>t),t.length>0)switch(t[0]){case"embed":this.state.mode="embed",document.getElementsByTagName("html")[0].style.overflow="hidden",this.state.curPage=+t[1]-1,this.$nextTick(()=>this.loadTrack(this.alphaToDec(t[1])));break;case"track":this.state.mode="track",this.state.curPage=+t[1]-1,this.$nextTick(()=>this.loadTrack(this.alphaToDec(t[1]))),t[2]&&(this.state.search.string=decodeURIComponent(t[2]));break;case"playlist":this.state.mode="playlist";break;case"u":t[1]||(window.location.href=window.location.origin+"/e/"),this.state.user={name:decodeURIComponent(t[1])},this.state.mode="u",t[2]?(this.state.curUserPage=+t[2]-1,t[3]?(this.state.loggedin||(this.state.playall=!0,this.state.shuffle=!0),this.state.search.string=decodeURIComponent(t[3]),e="/"+t[3],history.pushState(null,null,window.location.origin+"/e/?i=/u/"+this.state.user.name+"/"+(this.state.curPage+1)),this.beginSearch()):((!this.state.curUserPage||this.state.curUserPage<0||this.state.curUserPage>1e6)&&(this.state.curUserPage=0),history.pushState(null,null,window.location.origin+"/e/?i=/u/"+t[1]+(this.state.curUserPage?"/"+(this.state.curUserPage+1):"")),this.getPages())):(this.state.curUserPage=0,history.pushState(null,null,window.location.origin+"/e/?i=/u/"+t[1]+(this.state.curUserPage?"/"+(this.state.curUserPage+1):"")),this.getPages());break;default:this.state.mode="default";let e="";t[0]?(this.state.curPage=+t[0]-1,t[1]?(this.state.search.string=decodeURIComponent(t[1]),e="/"+t[1],e&&!this.state.loggedin&&(this.state.playall=!0,this.state.shuffle=!0),history.pushState(null,null,window.location.origin+"/e/?i=/"+(this.state.curPage+1)),this.beginSearch()):(history.pushState(null,null,window.location.origin+"/"+this.state.curPage?"?i="+(this.state.curPage+1):""),(!this.state.curPage||this.state.curPage<0||this.state.curPage>1e6)&&(this.state.curPage=0),this.getPages())):window.location.href=window.location.origin+"/e/";break}else this.state.mode="default",this.getPages(),window.location.href!==window.location.origin+"/e/"&&(window.location.href=window.location.origin+"/e/")},getPages(){switch(this.state.mode){case"u":this.loadUserData(this.state.user.name);break;case"track":this.loadTrack();break;case"default":this.loadLandingPage();break}},login(){let t={userName:this.state.username,password:this.state.password};fetch(this.state.baseURL+"/login.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>t.json()).then(e=>{e[0]?(this.state.loggedin=!0,this.state.loggedinUserName=this.state.username,this.state.loggedinUserID=+e[2],this.state.isAdmin=+e[4],this.state.playall=!!+e[5],this.state.shuffle=!!+e[6],this.state.disco=!!+e[7],this.state.passhash=e[1],this.setCookie(),this.closePrompts(),this.state.invalidLoginAttemp=!1,this.state.userInfo[this.state.loggedinUserID]={},this.state.userInfo[this.state.loggedinUserID].name=this.state.regusername||this.state.loggedinUserName,this.state.userInfo[this.state.loggedinUserID].avatar=e[3],this.state.userInfo[this.state.loggedinUserID].isAdmin=+e[4],this.checkShowControlsPref(),this.checkExactSearchPref(),t={userID:this.state.loggedinUserID,page:this.state.curUserPage,maxResultsPerPage:this.state.maxResultsPerPage},fetch(this.state.baseURL+"/fetchUserData.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>t.json()).then(t=>{window.location.reload()}),this.$nextTick(()=>this.loadUserData(this.state.user.name))):(this.state.loggedin=!1,this.state.invalidLoginAttempt=!0)})},logout(){let t=document.cookie;t.split(";").map(t=>{-1==t.indexOf("autoplay")&&(document.cookie=t+"; expires="+new Date(0).toUTCString()+"; path=/; domain="+this.state.rootDomain),-1==t.indexOf("autoplay")&&(document.cookie=t+"; expires="+new Date(0).toUTCString()+"; path=/; domain="+this.state.rootDomain)}),this.state.loggedin=!1,this.state.isAdmin=!1,(this.state.mode="u")&&window.location.reload(),this.state.loggedinUserID=this.state.loggedinUserName="",this.$nextTick(()=>this.loadUserData(this.state.user.name))},checkLogin(){let t=document.cookie.split(";").filter(t=>"loggedinuser"===t.split("=")[0].trim());if(t.length){this.state.loggedinUserName=t[0].split("=")[1];let e=document.cookie.split(";").filter(t=>"token"===t.split("=")[0].trim());if(e.length){this.state.passhash=e[0].split("=")[1];let t=document.cookie.split(";").filter(t=>"loggedinuserID"===t.split("=")[0].trim());t.length&&(this.state.loggedinUserID=t[0].split("=")[1],this.checkEnabled())}}else this.getMode();this.checkAutoplayPref(),this.checkShowControlsPref(),this.checkExactSearchPref()},checkShowControlsPref(){let t=document.cookie.split(";").filter(t=>"showControls"===t.split("=")[0].trim());t.length&&(this.state.showControls="true"==t[0].split("=")[1])},incrementViews(t){let e={trackID:t};fetch(this.state.baseURL+"/incrementViews.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(t=>t.json()).then(e=>{if(this.state.search.string)this.state.search.audiocloudTracks.filter(e=>e.id==t).length&&this.state.search.audiocloudTracks.filter(e=>e.id==t)[0].views++;else switch(this.state.mode){case"u":this.state.user.audiocloudTracks.filter(e=>e.id==t)[0].views++;break;case"default":this.state.landingPage.audiocloudTracks.filter(e=>e.id==t).length&&this.state.landingPage.audiocloudTracks.filter(e=>e.id==t)[0].views++;break;case"track":this.state.tracks.filter(e=>e.id==t)[0].views++;break}})},firstPage(){let t=this.state.search.string?"?i=/1/"+this.state.search.string:"";switch(this.state.mode){case"u":window.location.href=window.location.origin+"/e/?i=/u/"+this.state.user.name+t;break;case"default":window.location.href=window.location.origin+"/e/?i="+t;break;case"track":window.location.href=window.location.origin+"/e/?i=/track/"+this.state.curTrack+t;break}},jumpToPage(t){let e=this.state.search.string?"/"+this.state.search.string:"";switch(this.state.mode){case"u":window.location.href=window.location.origin+"/e/?i=/u/"+this.user.name+"/"+t+e;break;case"default":window.location.href=window.location.origin+"/e/?i=/"+t+e;break;case"track":window.location.href=window.location.origin+"/e/?i=/track/"+this.decToAlpha(this.state.curTrack)+"/"+t+e;break}},lastPage(){let t=this.state.search.string?"/"+this.state.search.string:"";switch(this.state.mode){case"u":window.location.href=window.location.origin+"/e/?i=/u/"+this.state.user.name+"/"+this.state.totalUserPages+t;break;case"default":window.location.href=window.location.origin+"/e/?i=/"+this.state.totalPages+t;break;case"track":window.location.href=window.location.origin+"/e/?i=/track/"+this.decToAlpha(this.state.curTrack)+"/"+this.state.totalPages+t;break}},advancePage(){let t=this.state.search.string?"/"+this.state.search.string:"";switch(this.state.mode){case"u":window.location.href=window.location.origin+"/e/?i=/u/"+this.state.user.name+"/"+(this.state.curUserPage+2)+t;break;case"default":window.location.href=window.location.origin+"/e/?i=/"+(this.state.curPage+2)+t;break;case"track":window.location.href=window.location.origin+"/e/?i=/track/"+this.decToAlpha(this.state.curTrack)+"/"+(this.state.curPage+2)+t;break}},regressPage(){let t=this.state.search.string?"/"+this.state.search.string:"";switch(this.state.mode){case"u":window.location.href=window.location.origin+"/e/?i=/u/"+this.state.user.name+"/"+this.state.curUserPage+t;break;case"default":window.location.href=window.location.origin+"/e/?i=/"+this.state.curPage+t;break;case"track":window.location.href=window.location.origin+"/e/?i=/track/"+this.decToAlpha(this.state.curTrack)+"/"+(this.state.curPage+2)+t;break}},playNextTrack(){let t,e;if(this.currentPlayingTracks.length?(t=this.currentPlayingTracks[0].id,e=this.currentPlayingTracks[0].idx,this.currentPlayingTracks[0].mp3.currentTime=0,this.currentPlayingTracks[0].playing=!1):t=-1,this.state.search.string){if(this.state.search.audiocloudTracks.length)if(-1==t)if(this.state.shuffle){let t;this.state.search.audiocloudTracks[t=Math.random()*this.state.search.audiocloudTracks.length|0].playing=!0,this.state.curPlayId=this.state.search.audiocloudTracks[t].id,this.state.search.audiocloudTracks[t].jump++}else this.state.search.audiocloudTracks[0].playing=!0,this.state.curPlayId=this.state.search.audiocloudTracks[0].id,this.state.search.audiocloudTracks[0].jump++;else this.state.search.audiocloudTracks.map((s,a)=>{if(s.id==t)if(this.state.shuffle){let t;while((t=Math.random()*this.state.search.audiocloudTracks.length|0)==e&&this.state.search.audiocloudTracks.length>1);this.state.search.audiocloudTracks[t].playing=!0,this.state.curPlayId=this.state.search.audiocloudTracks[t].id,this.state.search.audiocloudTracks[t].jump++}else a<this.state.search.audiocloudTracks.length-1?(this.state.search.audiocloudTracks[a+1].playing=!0,this.state.curPlayId=this.state.search.audiocloudTracks[a+1].id,this.state.search.audiocloudTracks[a+1].jump++):(this.state.search.audiocloudTracks[0].playing=!0,this.state.curPlayId=this.state.search.audiocloudTracks[0].id,this.state.search.audiocloudTracks[0].jump++)})}else switch(this.state.mode){case"u":if(this.filteredUserTracks.length)if(-1==t)if(this.state.shuffle){let t;this.filteredUserTracks[t=Math.random()*this.filteredUserTracks.length|0].playing=!0,this.filteredUserTracks[t].jump++,this.state.curPlayId=this.filteredUserTracks[t].id}else this.filteredUserTracks[0].playing=!0,this.filteredUserTracks[0].jump++;else this.filteredUserTracks.map((s,a)=>{if(s.id==t)if(this.state.shuffle){let t;while((t=Math.random()*this.filteredUserTracks.length|0)==e&&this.filteredUserTracks.length>1);this.filteredUserTracks[t].playing=!0,this.state.curPlayId=this.filteredUserTracks[t].id,this.filteredUserTracks[t].jump++}else a<this.filteredUserTracks.length-1?(this.filteredUserTracks[a+1].playing=!0,this.state.curPlayId=this.filteredUserTracks[a+1].id,this.filteredUserTracks[a+1].jump++):(this.filteredUserTracks[0].playing=!0,this.state.curPlayId=this.filteredUserTracks[0].id,this.filteredUserTracks[0].jump++)});break;case"track":this.state.tracks[0].playing=!0;break;case"embed":this.state.tracks[0].playing=!0;break;case"default":if(this.state.landingPage.audiocloudTracks.length)if(-1==t)if(this.state.shuffle){let t;this.state.landingPage.audiocloudTracks[t=Math.random()*this.state.landingPage.audiocloudTracks.length|0].playing=!0,this.state.landingPage.audiocloudTracks[t].jump++,this.state.curPlayId=this.state.landingPage.audiocloudTracks[t].id}else this.state.landingPage.audiocloudTracks[0].playing=!0,this.state.curPlayId=this.state.landingPage.audiocloudTracks[0].id,this.state.landingPage.audiocloudTracks[0].jump++;else this.state.landingPage.audiocloudTracks.map((s,a)=>{if(s.id==t)if(this.state.shuffle){let t;while((t=Math.random()*this.state.landingPage.audiocloudTracks.length|0)==e&&this.state.landingPage.audiocloudTracks.length>1);this.state.landingPage.audiocloudTracks[t].playing=!0,this.state.curPlayId=this.state.landingPage.audiocloudTracks[t].id,this.state.landingPage.audiocloudTracks[t].jump++}else a<this.state.landingPage.audiocloudTracks.length-1?(this.state.landingPage.audiocloudTracks[a+1].playing=!0,this.state.curPlayId=this.state.landingPage.audiocloudTracks[a+1].id,this.state.landingPage.audiocloudTracks[a+1].jump++):(this.state.landingPage.audiocloudTracks[0].playing=!0,this.state.curPlayId=this.state.landingPage.audiocloudTracks[0].id,this.state.landingPage.audiocloudTracks[0].jump++)});break}},playPauseCurrentTrack(){let t;if(this.state.curPlayId||this.playNextTrack(),this.state.search.string)t=this.state.search.audiocloudTracks.filter(t=>t.id==this.state.curPlayId)[0],"undefined"!=typeof t&&(t.playing=!t.playing);else switch(this.state.mode){case"u":t=this.state.user.audiocloudTracks.filter(t=>t.id==this.state.curPlayId)[0],"undefined"!=typeof t&&(t.playing=!t.playing);break;case"track":t=this.state.tracks.filter(t=>t.id==this.state.curPlayId)[0],"undefined"!=typeof t&&(t.playing=!t.playing);break;case"embed":t=this.state.tracks.filter(t=>t.id==this.state.curPlayId)[0],"undefined"!=typeof t&&(t.playing=!t.playing);break;case"default":t=this.state.landingPage.audiocloudTracks.filter(t=>t.id==this.state.curPlayId)[0],"undefined"!=typeof t&&(t.playing=!t.playing);break}},playPreviousTrack(){let t,e;if(this.currentPlayingTracks.length?(t=this.currentPlayingTracks[0].id,e=this.currentPlayingTracks[0].idx,this.currentPlayingTracks[0].mp3.currentTime=0,this.currentPlayingTracks[0].playing=!1):t=-1,this.state.search.string){if(this.state.search.audiocloudTracks.length)if(-1==t)if(this.state.shuffle){let t;this.state.search.audiocloudTracks[t=Math.random()*this.state.search.audiocloudTracks.length|0].playing=!0,this.state.search.audiocloudTracks[t].jump++}else this.state.search.audiocloudTracks[0].playing=!0,this.state.search.audiocloudTracks[0].jump++;else this.state.search.audiocloudTracks.map((s,a)=>{if(s.id==t)if(this.state.shuffle){let t;while((t=Math.random()*this.state.search.audiocloudTracks.length|0)==e&&this.state.search.audiocloudTracks.length>1);this.state.search.audiocloudTracks[t].playing=!0,this.state.search.audiocloudTracks[t].jump++}else a?(this.state.search.audiocloudTracks[a-1].playing=!0,this.state.search.audiocloudTracks[a-1].jump++):(this.state.search.audiocloudTracks[this.state.search.audiocloudTracks.length-1].playing=!0,this.state.search.audiocloudTracks[this.state.search.audiocloudTracks.length-1].jump++)})}else switch(this.state.mode){case"u":if(this.filteredUserTracks.length)if(-1==t)if(this.state.shuffle){let t;this.filteredUserTracks[t=Math.random()*this.filteredUserTracks.length|0].playing=!0,this.filteredUserTracks[t].jump++}else this.filteredUserTracks[0].playing=!0,this.filteredUserTracks[0].jump++;else this.filteredUserTracks.map((s,a)=>{if(s.id==t)if(this.state.shuffle){let t;while((t=Math.random()*this.filteredUserTracks.length|0)==e&&this.filteredUserTracks.length>1);this.filteredUserTracks[t].playing=!0,this.filteredUserTracks[t].jump++}else a?(this.filteredUserTracks[a-1].playing=!0,this.filteredUserTracks[a-1].jump++):(this.filteredUserTracks[this.filteredUserTracks.length-1].playing=!0,this.filteredUserTracks[this.filteredUserTracks.length-1].jump++)});break;case"track":this.state.tracks[0].playing=!0;break;case"embed":this.state.tracks[0].playing=!0;break;case"default":if(this.state.landingPage.audiocloudTracks.length)if(-1==t)if(this.state.shuffle){let t;this.state.landingPage.audiocloudTracks[t=Math.random()*this.state.landingPage.audiocloudTracks.length|0].playing=!0,this.state.landingPage.audiocloudTracks[t].jump++}else this.state.landingPage.audiocloudTracks[0].playing=!0,this.state.landingPage.audiocloudTracks[0].jump++;else this.state.landingPage.audiocloudTracks.map((s,a)=>{if(s.id==t)if(this.state.shuffle){let t;while((t=Math.random()*this.state.landingPage.audiocloudTracks.length|0)==e&&this.state.landingPage.audiocloudTracks.length>1);this.state.landingPage.audiocloudTracks[t].playing=!0,this.state.landingPage.audiocloudTracks[t].jump++}else a?(this.state.landingPage.audiocloudTracks[a-1].playing=!0,this.state.landingPage.audiocloudTracks[a-1].jump++):(this.state.landingPage.audiocloudTracks[this.state.landingPage.audiocloudTracks.length-1].playing=!0,this.state.landingPage.audiocloudTracks[this.state.landingPage.audiocloudTracks.length-1].jump++)});break}},doSearch(t,e){this.state.search.audiocloudTracks=[],this.state.search.timerHandle=null;let s={string:t.trim(),loggedinUserName:this.state.loggedinUserName,page:this.state.curPage,allWords:this.state.search.allWords,exact:this.state.search.exact,passhash:this.state.passhash,maxResultsPerPage:this.state.maxResultsPerPage};this.state.exactClicked=!0,fetch(this.state.baseURL+"/search.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(t=>t.json()).then(t=>{switch(t[0]=t[0].map(t=>(t.playing=!1,t.private=!!+t.private,t.allowDownload=!!+t.allowDownload,this.state.incrementViews(t.id),this.state.loadUserData(t.author),t.comments=t.comments.map(t=>(t.updated=!1,t.editing=!1,this.state.fetchUserData(t.userID),t)),t)),this.state.search.string&&(this.state.search.hits=+t[3]),this.state.search.audiocloudTracks=t[0],this.state.mode){case"u":this.state.totalUserPages=+t[1],this.state.curUserPage&&this.state.curUserPage+1>this.state.totalUserPages&&this.lastPage();break;case"default":this.state.totalPages=+t[1],this.state.curPage&&this.state.curPage+1>this.state.totalPages&&this.lastPage();break;case"track":this.state.totalPages=+t[1],this.state.curPage&&this.state.curPage+1>this.state.totalPages&&this.lastPage();break;case"embed":this.state.totalPages=+t[1],this.state.curPage&&this.state.curPage+1>this.state.totalPages&&this.lastPage();break}this.state.loaded=!0,this.state.playall&&this.playNextTrack(),this.state.search.inProgress=!1})},beginSearch(t){if(" "!=this.state.search.string.charAt(0)){this.state.search.inProgress=!0,t?(history.pushState(null,null,window.location.origin+"/e/?i=/1"+(this.state.search.string?"/":"")+this.state.search.string),this.state.curPage=0):history.pushState(null,null,window.location.origin+"/e/?i=/"+(this.state.curPage+1)+"/"+this.state.search.string);let e=(new Date).getTime();null!=this.state.search.timerHandle&&clearTimeout(this.state.search.timerHandle);let s=this.state.search.string;this.state.search.timerHandle=setTimeout(()=>{this.doSearch(s,t),this.state.search.timer=e},Math.min(1e3,e-this.state.search.timer))}else this.state.search.string=this.state.search.string.trim()},loadHotKeys(){window.addEventListener("keydown",t=>{if(27==t.keyCode&&this.state.showControlsToggleTimer<(new Date).getTime()&&(this.state.showControlsToggleTimer=(new Date).getTime()+100,t.preventDefault(),t.stopPropagation(),this.toggleShowControls()),13==t.keyCode&&"track"!==this.state.mode&&"embed"!==this.state.mode&&(document.activeElement.classList.contains("textInput")||(t.preventDefault(),t.stopPropagation(),this.state.jumpToPlayingTrack())),37==t.keyCode&&!document.activeElement.classList.contains("textInput")){t.preventDefault(),t.stopPropagation();let e=this.currentPlayingTracks;if(t.shiftKey){let t;(t=this.currentPlayingTracks).length&&(t[0].mp3.currentTime=Math.max(0,t[0].mp3.currentTime-10))}else e.length&&e[0].mp3.currentTime>e[0].mp3.duration/20?e[0].mp3.currentTime=0:this.state.playPreviousTrack()}if(39==t.keyCode&&!document.activeElement.classList.contains("textInput"))if(t.preventDefault(),t.stopPropagation(),t.shiftKey){let t;(t=this.currentPlayingTracks).length&&(t[0].mp3.currentTime=Math.min(t[0].mp3.duration,t[0].mp3.currentTime+10))}else this.state.playNextTrack();32==t.keyCode&&(document.activeElement.classList.contains("textInput")||(t.preventDefault(),t.stopPropagation(),this.state.playPauseCurrentTrack()))})},jumpToPlayingTrack(){let t;(t=this.state.currentTrack()).length&&t[0].jump++},currentTrack(){if(this.state.search.string)return this.state.search.audiocloudTracks.filter(t=>t.playing);switch(this.state.mode){case"u":return this.filteredUserTracks.filter(t=>t.playing);case"track":return this.state.tracks.filter(t=>t.playing);case"embed":return this.state.tracks.filter(t=>t.playing);case"default":return this.state.landingPage.audiocloudTracks.filter(t=>t.playing)}}},computed:{currentPlayingTracks(){if(this.state.search.string)return this.state.search.audiocloudTracks=this.state.search.audiocloudTracks.map((t,e)=>(t.idx=e,t)),this.state.search.audiocloudTracks.filter(t=>t.playing).length&&(this.state.curPlayId=this.state.search.audiocloudTracks.filter(t=>t.playing)[0].id),this.state.search.audiocloudTracks.filter(t=>t.playing);switch(this.state.mode){case"u":return this.state.user.audiocloudTracks=this.state.user.audiocloudTracks.map((t,e)=>(t.idx=e,t)),this.filteredUserTracks.filter(t=>t.playing).length&&(this.state.curPlayId=this.filteredUserTracks.filter(t=>t.playing)[0].id),this.filteredUserTracks.filter(t=>t.playing);case"track":return this.state.tracks.filter(t=>t.playing).length&&(this.state.curPlayId=this.state.tracks.filter(t=>t.playing)[0].id),this.state.tracks.filter(t=>t.playing);case"embed":return this.state.tracks.filter(t=>t.playing).length&&(this.state.curPlayId=this.state.tracks.filter(t=>t.playing)[0].id),this.state.tracks.filter(t=>t.playing);case"default":return this.state.landingPage.audiocloudTracks=this.state.landingPage.audiocloudTracks.map((t,e)=>(t.idx=e,t)),this.state.landingPage.audiocloudTracks.filter(t=>t.playing).length&&(this.state.curPlayId=this.state.landingPage.audiocloudTracks.filter(t=>t.playing)[0].id),this.state.landingPage.audiocloudTracks.filter(t=>t.playing)}},filteredUserTracks(){return null!=this.state.user&&"undefined"!==typeof this.state.user.audiocloudTracks?this.state.user.audiocloudTracks.filter(t=>!t.private||this.state.loggedinUserName.toUpperCase()==this.state.user.name.toUpperCase()||this.state.isAdmin):[]}},watch:{"state.search.string"(t){t||(this.state.search.hits=0)},"state.search.exact"(t){document.cookie="exactSearch="+this.state.search.exact+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain},"state.search.allWords"(t){document.cookie="allWords="+this.state.search.allWords+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain},"state.shuffle"(t){},"state.shuffle"(t){document.cookie="shuffle="+this.state.shuffle+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain},"state.playall"(t){t?this.state.loaded&&this.playNextTrack():this.state.pauseVisible(),document.cookie="autoplay="+this.state.playall+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain},"state.showUploadModal"(t){document.getElementsByTagName("html")[0].style.overflow=t?"hidden":"initial"}},mounted(){this.loadHotKeys(),setInterval(()=>{this.state.globalT+=1/60},16),this.state.userAgent=navigator.userAgent,this.state.playPauseCurrentTrack=this.playPauseCurrentTrack,this.state.toggleShowControls=this.toggleShowControls,this.state.filteredUserTracks=this.filteredUserTracks,this.state.jumpToPlayingTrack=this.jumpToPlayingTrack,this.state.playPreviousTrack=this.playPreviousTrack,this.state.showUserSettings=this.showUserSettings,this.state.showLoginPrompt=this.showLoginPrompt,this.state.incrementViews=this.incrementViews,this.state.openFullscreen=this.openFullscreen,this.state.fetchUserData=this.fetchUserData,this.state.playNextTrack=this.playNextTrack,this.state.closePrompts=this.closePrompts,this.state.pauseVisible=this.pauseVisible,this.state.loadUserData=this.loadUserData,this.state.checkEnabled=this.checkEnabled,this.state.currentTrack=this.currentTrack,this.state.advancePage=this.advancePage,this.state.beginSearch=this.beginSearch,this.state.regressPage=this.regressPage,this.state.toggleLogin=this.toggleLogin,this.state.jumpToPage=this.jumpToPage,this.state.decToAlpha=this.decToAlpha,this.state.alphaToDec=this.alphaToDec,this.state.firstPage=this.firstPage,this.state.setCookie=this.setCookie,this.state.getAvatar=this.getAvatar,this.state.lastPage=this.lastPage,this.state.goHome=this.goHome,this.state.logout=this.logout,this.state.login=this.login,this.checkLogin();let t=(new Date).getTime();setInterval(()=>{if(this.state.disco){let e=((new Date).getTime()-t)/10+200;document.getElementsByTagName("body")[0].style.backgroundColor=`hsla(${e}, 99%, 3%, 1)`,"embed"!==this.state.mode&&(document.getElementById("header").style.background=`linear-gradient(90deg, hsla(${e}, 99%, 1%, .9), hsla(${e}, 60%, 15%, .8)`),document.getElementById("footerBar").style.background=`linear-gradient(90deg, hsla(${e}, 99%, 1%, 1), hsla(${e}, 60%, 5%, .7)`}},100),this.preloadImages=["http://jsbot.cantelope.org/2ftyk1.png","http://jsbot.cantelope.org/BGNlv.png","http://jsbot.cantelope.org/FU3vq.png","http://jsbot.cantelope.org/zAYeB.png","http://jsbot.cantelope.org/XeGsK.png","http://jsbot.cantelope.org/XeGsK.png","http://jsbot.cantelope.org/ct1hv.png","http://jsbot.cantelope.org/2kPCX5.png","http://jsbot.cantelope.org/14MAyj.png","http://jsbot.cantelope.org/20SIWe.png","http://jsbot.cantelope.org/6aevA.png","http://jsbot.cantelope.org/1RptlQ.png","http://jsbot.cantelope.org/v9UDT.png","http://jsbot.cantelope.org/1tgOjR.png"],this.preloadImages.map(t=>{let e=new Image;return e.src=t,t})}};s("c19e");const ho=xe()(co,[["render",n]]);var uo=ho;const go=Object(a["c"])(uo);go.directive("linkified",o.a),go.mount("#app")},5937:function(t,e,s){},"59de":function(t,e,s){},"5d43":function(t,e,s){"use strict";s("59de")},"615e":function(t,e,s){},"8cdf":function(t,e,s){},9015:function(t,e,s){"use strict";s("a6fe")},"939c":function(t,e){t.exports="data:image/png;base64,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"},"9afb":function(t,e,s){t.exports=s.p+"img/email.81f8a513.png"},"9b23":function(t,e,s){},a6fe:function(t,e,s){},ad78:function(t,e,s){},b77d:function(t,e,s){"use strict";s("557b")},c19e:function(t,e,s){"use strict";s("0287")},dda3:function(t,e,s){"use strict";s("ad78")},edbf:function(t,e){t.exports="data:image/png;base64,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"},f3c7:function(t,e,s){"use strict";s("40f1")}});
//# sourceMappingURL=app.ce42619a.js.map